<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Select your Identity Provider</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  </head>
  <body>
    <div id="app-container"></div>
  <script type="text/javascript">!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=120)}([function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(53)("wks"),o=n(37),i=n(2).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";e.exports={Formats:n(98),Initializer:n(99),JSONDocument:n(185),JSONMapping:n(186),JSONPatch:n(100),JSONPointer:n(68),JSONSchema:n(187),Validator:n(101)}},function(e,t,n){var r=n(2),o=n(0),i=n(20),a=n(13),u=function(e,t,n){var s,c,f,l=e&u.F,p=e&u.G,d=e&u.S,h=e&u.P,y=e&u.B,v=e&u.W,m=p?o:o[t]||(o[t]={}),g=m.prototype,b=p?r:d?r[t]:(r[t]||{}).prototype;p&&(n=t);for(s in n)(c=!l&&b&&void 0!==b[s])&&s in m||(f=c?b[s]:n[s],m[s]=p&&"function"!=typeof b[s]?n[s]:y&&c?i(f,r):v&&b[s]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((m.virtual||(m.virtual={}))[s]=f,e&u.R&&g&&!g[s]&&a(g,s,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){e.exports=n(126)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){function r(i,a){try{var u=t[i](a),s=u.value}catch(e){return void n(e)}if(!u.done)return o.default.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}},function(e,t,n){var r=n(8),o=n(71),i=n(48),a=Object.defineProperty;t.f=n(9)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(21);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports={default:n(128),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(62),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){var r=n(7),o=n(26);e.exports=n(9)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(73),o=n(49);e.exports=function(e){return r(o(e))}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return{getItem:function(t){return a.default.resolve(e.getItem(t))},setItem:function(t,n){return a.default.resolve(e.setItem(t,n))},removeItem:function(t){return a.default.resolve(e.removeItem(t))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageStorage=t.memStorage=t.updateStorage=t.getData=t.defaultStorage=t.NAMESPACE=void 0;var i=n(10),a=r(i),u=n(63),s=r(u),c=n(5),f=r(c),l=n(6),p=r(l),d=t.getData=function(){var e=(0,p.default)(f.default.mark(function e(t){var n,r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0,r=void 0,e.prev=2,e.next=5,t.getItem(y);case 5:n=e.sent,r=JSON.parse(n||"{}"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn("Could not deserialize data:",n),console.error(e.t0),r={};case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}();t.updateStorage=function(){var e=(0,p.default)(f.default.mark(function e(t,n){var r,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,o=n(r),e.next=6,t.setItem(y,(0,s.default)(o));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();t.asyncStorage=o;var h=n(31),y=t.NAMESPACE="solid-auth-client",v=(t.defaultStorage=function(){try{if(window&&window.localStorage)return o(window.localStorage)}catch(e){if(!(e instanceof ReferenceError))throw e}return console.warn("'window.localStorage' unavailable.  Creating a (not very useful) in-memory storage object as the default storage interface."),o(v())},t.memStorage=function(){var e={};return{getItem:function(t){return void 0===e[t]?null:e[t]},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]}}});t.postMessageStorage=function(e,t){var n=(0,h.client)(e,t);return{getItem:function(){var e=(0,p.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({method:"storage/getItem",args:[t]});case 2:if("string"==typeof(r=e.sent)){e.next=5;break}throw new Error("expected postMessage call for 'storage/getItem' to return a string, but got value "+r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),setItem:function(e,t){return n({method:"storage/setItem",args:[e,t]})},removeItem:function(e){return n({method:"storage/removeItem",args:[e]})}}}},function(e,t,n){e.exports=n(188).default,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0;var r=n(35),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){var r=n(36);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(72),o=n(54);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports={}},function(e,t,n){"use strict";(function(e){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?f(e,t,n):d(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t,n,r){return u(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function c(e,t){if(u(t),e=o(e,t<0?0:0|h(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=o(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function l(e,t){var n=t.length<0?0:0|h(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=l(e,t),e}function d(e,t){if(i.isBuffer(t)){var n=0|h(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||G(t.length)?o(e,0):l(e,t);if("Buffer"===t.type&&Z(t.data))return l(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),i.alloc(+e)}function v(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}var c;if(o){var f=-1;for(c=n;c<u;c++)if(i(e,c)===i(t,-1===f?0:c-f)){if(-1===f&&(f=c),c-f+1===s)return f*a}else-1!==f&&(c-=c-f),f=-1}else for(n+s>u&&(n=u-s),c=n;c>=0;c--){for(var l=!0,p=0;p<s;p++)if(i(e,c+p)!==i(t,p)){l=!1;break}if(l)return c}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function x(e,t,n,r){return Y(q(t,e.length-n),e,n,r)}function S(e,t,n,r){return Y(W(t),e,n,r)}function k(e,t,n,r){return S(e,t,n,r)}function E(e,t,n,r){return Y(V(t),e,n,r)}function O(e,t,n,r){return Y(K(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,u=i>239?4:i>223?3:i>191?2:1;if(o+u<=n){var s,c,f,l;switch(u){case 1:i<128&&(a=i);break;case 2:s=e[o+1],128==(192&s)&&(l=(31&i)<<6|63&s)>127&&(a=l);break;case 3:s=e[o+1],c=e[o+2],128==(192&s)&&128==(192&c)&&(l=(15&i)<<12|(63&s)<<6|63&c)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:s=e[o+1],c=e[o+2],f=e[o+3],128==(192&s)&&128==(192&c)&&128==(192&f)&&(l=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,u=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=u}return j(r)}function j(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=H(e[i]);return o}function C(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||D(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,o){return o||D(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,r,52,8),n+8}function J(e){if(e=F(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function V(e){return $.toByteArray(J(e))}function Y(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var $=n(189),X=n(190),Z=n(191);t.Buffer=i,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return a(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return s(null,e,t,n)},i.allocUnsafe=function(e){return c(null,e)},i.allocUnsafeSlow=function(e){return c(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var a=o-r,u=n-t,s=Math.min(a,u),c=this.slice(r,o),f=e.slice(t,n),l=0;l<s;++l)if(c[l]!==f[l]){a=c[l],u=f[l];break}return a<u?-1:u<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=i.prototype;else{var o=t-e;r=new i(o,void 0);for(var a=0;a<o;++a)r[a]=this[a+e]}return r},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),X.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),X.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),X.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),X.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=0,a=1,u=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=n-1,a=1,u=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var u=i.isBuffer(e)?e:q(new i(e,r).toString()),s=u.length;for(a=0;a<n-t;++a)this[a+t]=u[a%s]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(16))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(49);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(129)(!0);n(75)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(){return null}function o(e){var t=e.nodeName,n=e.attributes;e.attributes={},t.defaultProps&&_(e.attributes,t.defaultProps),n&&_(e.attributes,n)}function i(e,t){var n,r,o;if(t){for(o in t)if(n=W.test(o))break;if(n){r=e.attributes={};for(o in t)t.hasOwnProperty(o)&&(r[W.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=t[o])}}}function a(e,t,n){var r=t&&t._preactCompatRendered&&t._preactCompatRendered.base;r&&r.parentNode!==t&&(r=null),!r&&t&&(r=t.firstElementChild);for(var o=t.childNodes.length;o--;)t.childNodes[o]!==r&&t.removeChild(t.childNodes[o]);var i=Object(B.e)(e,t,r);return t&&(t._preactCompatRendered=i&&(i._component||{base:i})),"function"==typeof n&&n(),i&&i._component||i}function u(e,t,n,r){var o=Object(B.c)(X,{context:e.context},t),i=a(o,n),u=i._component||i.base;return r&&r.call(u,i),u}function s(e){var t=e._preactCompatRendered&&e._preactCompatRendered.base;return!(!t||t.parentNode!==e)&&(Object(B.e)(Object(B.c)(r),e,t),!0)}function c(e){return h.bind(null,e)}function f(e,t){for(var n=t||0;n<e.length;n++){var r=e[n];Array.isArray(r)?f(r):r&&"object"==typeof r&&!m(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(e[n]=h(r.type||r.nodeName,r.props||r.attributes,r.children))}}function l(e){return"function"==typeof e&&!(e.prototype&&e.prototype.render)}function p(e){return E({displayName:e.displayName||e.name,render:function(){return e(this.props,this.context)}})}function d(e){var t=e[H];return t?!0===t?e:t:(t=p(e),Object.defineProperty(t,H,{configurable:!0,value:!0}),t.displayName=e.displayName,t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,Object.defineProperty(e,H,{configurable:!0,value:t}),t)}function h(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return f(e,2),y(B.c.apply(void 0,e))}function y(e){e.preactCompatNormalized=!0,w(e),l(e.nodeName)&&(e.nodeName=d(e.nodeName));var t=e.attributes.ref,n=t&&typeof t;return!Z||"string"!==n&&"number"!==n||(e.attributes.ref=g(t,Z)),b(e),e}function v(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!m(e))return e;var o=e.attributes||e.props,i=Object(B.c)(e.nodeName||e.type,o,e.children||o&&o.children),a=[i,t];return n&&n.length?a.push(n):t&&t.children&&a.push(t.children),y(B.b.apply(void 0,a))}function m(e){return e&&(e instanceof Y||e.$$typeof===F)}function g(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){t&&t.refs&&(t.refs[e]=n,null===n&&(delete t._refProxies[e],t=null))})}function b(e){var t=e.nodeName,n=e.attributes;if(n&&"string"==typeof t){var r={};for(var o in n)r[o.toLowerCase()]=o;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var i=r.oninput||"oninput";n[i]||(n[i]=T([n[i],n[r.onchange]]),delete n[r.onchange])}}}function w(e){var t=e.attributes||(e.attributes={});re.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",re)}function _(e,t){for(var n=arguments,r=1,o=void 0;r<arguments.length;r++)if(o=n[r])for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e}function x(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function S(e){return e&&e.base||e}function k(){}function E(e){function t(e,t){P(this),M.call(this,e,t,K),I.call(this,e,t)}return e=_({constructor:t},e),e.mixins&&A(e,O(e.mixins)),e.statics&&_(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps()),k.prototype=M.prototype,t.prototype=_(new k,e),t.displayName=e.displayName||"Component",t}function O(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var o in r)r.hasOwnProperty(o)&&"function"==typeof r[o]&&(t[o]||(t[o]=[])).push(r[o])}return t}function A(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=T(t[n].concat(e[n]||Q),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function P(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||q.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}function j(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function T(e,t){return function(){for(var n,r=arguments,o=this,i=0;i<e.length;i++){var a=j(o,e[i],r);if(t&&null!=a){n||(n={});for(var u in a)a.hasOwnProperty(u)&&(n[u]=a[u])}else void 0!==a&&(n=a)}return n}}function I(e,t){R.call(this,e,t),this.componentWillReceiveProps=T([R,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=T([R,C,this.render||"render",N])}function R(e,t){if(e){var n=e.children;if(n&&Array.isArray(n)&&1===n.length&&("string"==typeof n[0]||"function"==typeof n[0]||n[0]instanceof Y)&&(e.children=n[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),V){var r="function"==typeof this?this:this.constructor,o=this.propTypes||r.propTypes,i=this.displayName||r.name;o&&D.a.checkPropTypes(o,e,"prop",i)}}}function C(e){Z=this}function N(){Z===this&&(Z=null)}function M(e,t,n){B.a.call(this,e,t),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==K&&I.call(this,e,t)}function U(e,t){M.call(this,e,t)}n.d(t,"version",function(){return z}),n.d(t,"DOM",function(){return te}),n.d(t,"Children",function(){return ee}),n.d(t,"render",function(){return a}),n.d(t,"createClass",function(){return E}),n.d(t,"createFactory",function(){return c}),n.d(t,"createElement",function(){return h}),n.d(t,"cloneElement",function(){return v}),n.d(t,"isValidElement",function(){return m}),n.d(t,"findDOMNode",function(){return S}),n.d(t,"unmountComponentAtNode",function(){return s}),n.d(t,"Component",function(){return M}),n.d(t,"PureComponent",function(){return U}),n.d(t,"unstable_renderSubtreeIntoContainer",function(){return u}),n.d(t,"__spread",function(){return _});var L=n(144),D=n.n(L),B=n(149);n.d(t,"PropTypes",function(){return D.a});var z="15.1.0",J="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),F="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,H="undefined"!=typeof Symbol?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",q={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},W=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,K={},V=void 0===e||!e.env||!1,Y=Object(B.c)("a",null).constructor;Y.prototype.$$typeof=F,Y.prototype.preactCompatUpgraded=!1,Y.prototype.preactCompatNormalized=!1,Object.defineProperty(Y.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty(Y.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var G=B.d.event;B.d.event=function(e){return G&&(e=G(e)),e.persist=Object,e.nativeEvent=e,e};var $=B.d.vnode;B.d.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=!0;var t=e.nodeName,n=e.attributes=_({},e.attributes);"function"==typeof t?(!0===t[H]||t.prototype&&"isReactComponent"in t.prototype)&&(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),e.preactCompatNormalized||y(e),o(e)):(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),i(e,n))}$&&$(e)};var X=function(){};X.prototype.getChildContext=function(){return this.props.context},X.prototype.render=function(e){return e.children[0]};for(var Z,Q=[],ee={map:function(e,t,n){return null==e?null:(e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t))},forEach:function(e,t,n){if(null==e)return null;e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e&&e.length||0},only:function(e){if(e=ee.toArray(e),1!==e.length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:Q.concat(e)}},te={},ne=J.length;ne--;)te[J[ne]]=c(J[ne]);var re={configurable:!0,get:function(){return this.class},set:function(e){this.class=e}};_(M.prototype=new B.a,{constructor:M,isReactComponent:{},replaceState:function(e,t){var n=this;this.setState(e,t);for(var r in n.state)r in e||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),k.prototype=M.prototype,U.prototype=new k,U.prototype.isPureReactComponent=!0,U.prototype.shouldComponentUpdate=function(e,t){return x(this.props,e)||x(this.state,t)};var oe={version:z,DOM:te,PropTypes:D.a,Children:ee,render:a,createClass:E,createFactory:c,createElement:h,cloneElement:v,isValidElement:m,findDOMNode:S,unmountComponentAtNode:s,Component:M,PureComponent:U,unstable_renderSubtreeIntoContainer:u,__spread:_};t.default=oe}.call(t,n(86))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.combineHandlers=t.server=t.client=void 0;var o=n(5),i=r(o),a=n(6),u=r(a),s=n(10),c=r(s),f=n(32),l=r(f),p=n(89),d=r(p),h=n(164),y=r(h),v=function(e){return(0,d.default)({},"solid-auth-client",e)},m=function(e){if(!e||"object"!==(void 0===e?"undefined":(0,l.default)(e)))return null;var t=e["solid-auth-client"];return t&&"object"===(void 0===t?"undefined":(0,l.default)(t))?t:null},g=function(e){var t=m(e);if(!t)return null;var n=t.id,r=t.ret;return null!=n&&"string"==typeof n&&t.hasOwnProperty("ret")?{id:n,ret:r}:null},b=function(e){var t=m(e);if(!t)return null;var n=t.id,r=t.method,o=t.args;return null!=n&&"string"==typeof n&&"string"==typeof r&&Array.isArray(o)?{id:n,method:r,args:o}:null};t.client=function(e,t){return function(n){return new c.default(function(r,o){var i=(0,y.default)(),a=function e(n){var o=n.data,a=n.origin,u=g(o);"*"!==t&&a!==t||!u||u.id===i&&(r(u.ret),window.removeEventListener("message",e))};window.addEventListener("message",a),e.postMessage({"solid-auth-client":{id:i,method:n.method,args:n.args}},t)})}},t.server=function(e,t){return function(n){var r=function(){var r=(0,u.default)(i.default.mark(function r(o){var a,u,s,c;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=o.data,u=o.origin,s=b(a)){r.next=4;break}return r.abrupt("return");case 4:if(u===t){r.next=7;break}return console.warn("SECURITY WARNING: solid-auth-client is listening for messages from "+t+", but received a message from "+u+".  Ignoring the message."),r.abrupt("return");case 7:return r.next=9,n(s);case 9:c=r.sent,c&&e.postMessage(v(c),t);case 11:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}(),o={start:function(){return window.addEventListener("message",r),o},stop:function(){return window.removeEventListener("message",r),o}};return o}},t.combineHandlers=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.map(function(t){return t(e)}).find(function(e){return null!==e})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(150),i=r(o),a=n(152),u=r(a),s="function"==typeof u.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":typeof e};t.default="function"==typeof u.default&&"symbol"===s(i.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,n){e.exports={default:n(169),__esModule:!0}},function(e,t,n){"use strict";var r=n(69),o=n(106),i=n(200),a=n(201),u=n(112),s=n(109),c=n(111),f=n(46),l=n(107),p=n(110),d=n(108);e.exports={JWA:r,JWK:o,JWKSet:i,JWT:a,JWS:u,Base64URLSchema:s,JOSEHeaderSchema:c,JWKSchema:f,JWKSetSchema:l,JWTClaimsSetSchema:p,JWTSchema:d}},function(e,t,n){e.exports={default:n(121),__esModule:!0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=!0},function(e,t,n){var r=n(7).f,o=n(14),i=n(1)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){n(132);for(var r=n(2),o=n(13),i=n(24),a=n(1)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],f=r[c],l=f&&f.prototype;l&&!l[a]&&o(l,a,c),i[c]=i.Array}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(32),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(91),i=r(o),a=n(92),u=r(a),s=n(32),c=r(s);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,u.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t){e.exports=window},function(e,t){e.exports=crypto},function(e,t,n){"use strict";var r=n(3),o=r.JSONSchema,i=n(199),a=(i.BASE64_REGEXP,new o({type:"object",properties:{kty:{type:"string",enum:["RSA","EC","oct"]},use:{type:"string",enum:["sig","enc"]},key_ops:{type:"array",items:{enum:["sign","verify","encrypt","decrypt","wrapKey","unwrapKey","deriveKey","deriveBits"]}},alg:{type:"string",enum:["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none"]},kid:{type:"string"},x5u:{type:"string"},x5c:{type:"array"},x5t:{type:"string"}}}));e.exports=a},function(e,t,n){var r=n(21),o=n(2).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(21);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(51),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(53)("keys"),o=n(37);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(8),o=n(131),i=n(54),a=n(52)("IE_PROTO"),u=function(){},s=function(){var e,t=n(47)("iframe"),r=i.length;for(t.style.display="none",n(77).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(27),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){var r=n(57),o=n(1)("iterator"),i=n(24);e.exports=n(0).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(36);e.exports.f=function(e){return new r(e)}},function(e,t,n){t.f=n(1)},function(e,t,n){var r=n(2),o=n(0),i=n(39),a=n(60),u=n(7).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){e.exports={default:n(162),__esModule:!0}},function(e,t,n){e.exports={default:n(167),__esModule:!0}},function(e,t,n){n(177),e.exports=self.fetch.bind(self)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=this;return function(){var n=(0,f.default)(s.default.mark(function n(r){var o;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.updateStorage)(e,function(e){return(0,a.default)({},e,{session:r})});case 2:return o=t.sent,t.abrupt("return",o.session);case 4:case"end":return t.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0}),t.clearSession=t.getSession=void 0;var i=n(19),a=r(i),u=n(5),s=r(u),c=n(6),f=r(c);t.getSession=function(){var e=(0,f.default)(s.default.mark(function e(t){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getData)(t);case 2:return n=e.sent,e.abrupt("return",n.session||null);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.clearSession=function(){var e=(0,f.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.updateStorage)(t,function(e){return(0,a.default)({},e,{session:null})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();t.saveSession=o;var l=n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithCredentials=t.requiresAuth=t.getRegisteredRp=t.logout=t.currentSession=t.login=void 0;var o=n(19),i=r(o),a=n(5),u=r(a),s=n(6),c=r(s),f=function(){var e=(0,c.default)(u.default.mark(function e(t){var n,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.getData)(t);case 2:if(n=e.sent,!(r=n.rpConfig)){e.next=9;break}return r.store=t,e.abrupt("return",y.default.from(r));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,c.default)(u.default.mark(function e(t,n,r){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.updateStorage)(t,function(e){return(0,i.default)({},e,{rpConfig:r})});case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}();n(64);var p=n(94),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),h=n(181),y=r(h),v=n(220),m=r(v),g=n(70),b=n(17),w=(t.login=function(){var e=(0,c.default)(u.default.mark(function e(t,n){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t,n);case 3:return r=e.sent,e.next=6,S(n.storage);case 6:return e.abrupt("return",function(){return x(r,n)});case 9:return e.prev=9,e.t0=e.catch(0),console.warn("Error logging in with WebID-OIDC"),console.error(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}},e,void 0,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}(),t.currentSession=function(){var e=(0,c.default)(u.default.mark(function e(){var t,n,r,o,i,a,s,c,l,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,b.defaultStorage)();return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(p);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if((n=(0,g.currentUrl)())&&n.includes("#")){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=11,(0,b.getData)(p);case 11:return r=e.sent,e.next=14,t.validateResponse(n,r);case 14:if(o=e.sent){e.next=17;break}return e.abrupt("return",null);case 17:return e.next=19,k(p);case 19:return i=o.idp,a=o.idToken,s=o.accessToken,c=o.clientId,l=o.sessionKey,e.abrupt("return",{authType:"WebID-OIDC",webId:o.decoded.payload.sub,idp:i,idToken:a,accessToken:s,clientId:c,sessionKey:l});case 23:return e.prev=23,e.t0=e.catch(0),console.warn("Error finding a WebID-OIDC session"),console.error(e.t0),e.abrupt("return",null);case 28:case"end":return e.stop()}},e,void 0,[[0,23]])}));return function(){return e.apply(this,arguments)}}(),t.logout=function(e){return f(e).then(function(e){return e?e.logout():void 0}).catch(function(e){console.warn("Error logging out of the WebID-OIDC session"),console.error(e)})},t.getRegisteredRp=function(e,t){return f(t.storage).then(function(n){return n&&n.provider.url===e?n:_(e,t).then(function(n){return l(t.storage,e,n)})})}),_=function(e,t){var n=t.storage,r=t.callbackUri,o={issuer:e,grant_types:["implicit"],redirect_uris:[r],response_types:["id_token token"],scope:"openid profile"},i={defaults:{authenticate:{redirect_uri:r,response_type:"id_token token"}},store:n};return y.default.register(e,o,i)},x=function(){var e=(0,c.default)(u.default.mark(function e(t,n){var r,o,i=n.callbackUri,a=n.storage;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.getData)(a);case 2:return r=e.sent,e.next=5,t.createRequest({redirect_uri:i},r);case 5:return o=e.sent,e.next=8,(0,b.updateStorage)(a,function(){return r});case 8:return e.abrupt("return",(0,g.navigateTo)(o));case 9:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){return(0,b.updateStorage)(e,function(e){return(0,i.default)({},e,{appHashFragment:window.location.hash})})},k=function(e){return(0,b.updateStorage)(e,function(e){return window.location.hash=e.appHashFragment,delete e.appHashFragment,e})};t.requiresAuth=function(e){if(401!==e.status)return!1;var t=e.headers.get("www-authenticate");if(!t)return!1;var n=d.parse(t);return"Bearer"===n.scheme&&n.params&&"openid webid"===n.params.scope},t.fetchWithCredentials=function(e){return function(){var t=(0,c.default)(u.default.mark(function t(n,r){var o,a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.default.issueFor(n,e);case 2:return o=t.sent,a=(0,i.default)({},r,{headers:(0,i.default)({},r&&r.headers?r.headers:{},{authorization:"Bearer "+o})}),t.abrupt("return",fetch(n,a));case 5:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";(function(t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function a(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function u(e){if(w.isFunction(e)){if(S)return e.name;var t=e.toString(),n=t.match(E);return n&&n[1]}}function s(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(S||!w.isFunction(e))return w.inspect(e);var t=u(e);return"[Function"+(t?": "+t:"")+"]"}function f(e){return s(c(e.actual),128)+" "+e.operator+" "+s(c(e.expected),128)}function l(e,t,n,r,o){throw new k.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function p(e,t){e||l(e,!0,t,"==",k.ok)}function d(e,t,n,u){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(a(e)&&a(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;u=u||{actual:[],expected:[]};var s=u.actual.indexOf(e);return-1!==s&&s===u.expected.indexOf(t)||(u.actual.push(e),u.expected.push(t),y(e,t,n,u))}return n?e===t:e==t}function h(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function y(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=h(e),i=h(t);if(o&&!i||!o&&i)return!1;if(o)return e=x.call(e),t=x.call(t),d(e,t,n);var a,u,s=O(e),c=O(t);if(s.length!==c.length)return!1;for(s.sort(),c.sort(),u=s.length-1;u>=0;u--)if(s[u]!==c[u])return!1;for(u=s.length-1;u>=0;u--)if(a=s[u],!d(e[a],t[a],n,r))return!1;return!0}function v(e,t,n){d(e,t,!0)&&l(e,t,n,"notDeepStrictEqual",v)}function m(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function g(e){var t;try{e()}catch(e){t=e}return t}function b(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=g(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&l(o,n,"Missing expected exception"+r);var i="string"==typeof r,a=!e&&w.isError(o),u=!e&&o&&!n;if((a&&i&&m(o,n)||u)&&l(o,n,"Got unwanted exception"+r),e&&o&&n&&!m(o,n)||!e&&o)throw o}var w=n(182),_=Object.prototype.hasOwnProperty,x=Array.prototype.slice,S=function(){return"foo"===function(){}.name}(),k=e.exports=p,E=/\s*function\s+([^\(\s]*)\s*/;k.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var t=e.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=u(t),i=r.indexOf("\n"+o);if(i>=0){var a=r.indexOf("\n",i+1);r=r.substring(a+1)}this.stack=r}}},w.inherits(k.AssertionError,Error),k.fail=l,k.ok=p,k.equal=function(e,t,n){e!=t&&l(e,t,n,"==",k.equal)},k.notEqual=function(e,t,n){e==t&&l(e,t,n,"!=",k.notEqual)},k.deepEqual=function(e,t,n){d(e,t,!1)||l(e,t,n,"deepEqual",k.deepEqual)},k.deepStrictEqual=function(e,t,n){d(e,t,!0)||l(e,t,n,"deepStrictEqual",k.deepStrictEqual)},k.notDeepEqual=function(e,t,n){d(e,t,!1)&&l(e,t,n,"notDeepEqual",k.notDeepEqual)},k.notDeepStrictEqual=v,k.strictEqual=function(e,t,n){e!==t&&l(e,t,n,"===",k.strictEqual)},k.notStrictEqual=function(e,t,n){e===t&&l(e,t,n,"!==",k.notStrictEqual)},k.throws=function(e,t,n){b(!0,e,t,n)},k.doesNotThrow=function(e,t,n){b(!1,e,t,n)},k.ifError=function(e){if(e)throw e};var O=Object.keys||function(e){var t=[];for(var n in e)_.call(e,n)&&t.push(n);return t}}).call(t,n(16))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=0,a=function(){function e(t,n){r(this,e),this.expr=t,this.mode=n||i,this.tokens=t&&"#"===t.charAt(0)?this.parseURIFragmentIdentifier(t):this.parseJSONString(t)}return o(e,[{key:"escape",value:function(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}},{key:"unescape",value:function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},{key:"parseJSONString",value:function(e){if("string"!=typeof e)throw new Error("JSON Pointer must be a string");if(""===e)return[];if("/"!==e.charAt(0))throw new Error("Invalid JSON Pointer");return"/"===e?[""]:e.substr(1).split("/").map(this.unescape)}},{key:"toJSONString",value:function(){return"/"+this.tokens.map(this.escape).join("/")}},{key:"parseURIFragmentIdentifier",value:function(e){if("string"!=typeof e)throw new Error("JSON Pointer must be a string");if("#"!==e.charAt(0))throw new Error("Invalid JSON Pointer URI Fragment Identifier");return this.parseJSONString(decodeURIComponent(e.substr(1)))}},{key:"toURIFragmentIdentifier",value:function(){var e=this;return"#/"+this.tokens.map(function(t){return encodeURIComponent(e.escape(t))}).join("/")}},{key:"get",value:function(e){for(var t=e,n=this.tokens,r=0;r<n.length;r++){if(!t||void 0===t[n[r]]){if(this.mode!==i)return;throw new Error("Invalid JSON Pointer reference")}t=t[n[r]]}return t}},{key:"add",value:function(e,t){for(var n=this.tokens,r=e,o=0;o<n.length;o++){var a=n[o];if(o===n.length-1)"-"===a?r.push(t):Array.isArray(r)?r.splice(a,0,t):void 0!==t&&(r[a]=t);else if(r[a])r=r[a];else switch(this.mode){case i:throw new Error("Invalid JSON Pointer reference");case 1:r=r[a]=parseInt(a)?[]:{};break;case 2:return;default:throw new Error("Invalid pointer mode")}}}},{key:"replace",value:function(e,t){for(var n=this.tokens,r=e,o=0;o<n.length;o++){var i=n[o];o===n.length-1?r[i]=t:r=r[i]?r[i]:r[i]=parseInt(i)?[]:{}}}},{key:"remove",value:function(e){for(var t=this.tokens,n=e,r=0;r<t.length;r++){var o=t[r];if(void 0===n||void 0===n[o])return;if(Array.isArray(n))return void n.splice(o,1);r===t.length-1&&delete n[o],n=n[o]}}}],[{key:"parse",value:function(t){return new e(t)}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(18),n(193)),a=n(104),u=a.NotSupportedError,s=function(){function e(){r(this,e)}return o(e,null,[{key:"sign",value:function(e,t,n){var r=i.normalize("sign",e);return r instanceof Error?Promise.reject(new u(e)):r.sign(t,n)}},{key:"verify",value:function(e,t,n,r){var o=i.normalize("verify",e);return o instanceof Error?Promise.reject(new u(e)):o.verify(t,n,r)}},{key:"importKey",value:function(e){return i.normalize("importKey",e.alg).importKey(e)}}]),e}();e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.currentUrl=function(){return window.location.href},t.currentUrlNoParams=function(){return window.location.origin+window.location.pathname},t.navigateTo=function(e){window.location.href=e},t.originOf=function(e){return new URL(e).origin}},function(e,t,n){e.exports=!n(9)&&!n(22)(function(){return 7!=Object.defineProperty(n(47)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(14),o=n(15),i=n(124)(!1),a=n(52)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){},function(e,t,n){"use strict";var r=n(39),o=n(4),i=n(76),a=n(13),u=n(14),s=n(24),c=n(130),f=n(40),l=n(78),p=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,y,v,m,g){c(n,t,y);var b,w,_,x=function(e){if(!d&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",k="values"==v,E=!1,O=e.prototype,A=O[p]||O["@@iterator"]||v&&O[v],P=A||x(v),j=v?k?x("entries"):P:void 0,T="Array"==t?O.entries||A:A;if(T&&(_=l(T.call(new e)))!==Object.prototype&&_.next&&(f(_,S,!0),r||u(_,p)||a(_,p,h)),k&&A&&"values"!==A.name&&(E=!0,P=function(){return A.call(this)}),r&&!g||!d&&!E&&O[p]||a(O,p,P),s[t]=P,s[S]=h,v)if(b={values:k?P:x("values"),keys:m?P:x("keys"),entries:j},g)for(w in b)w in O||i(O,w,b[w]);else o(o.P+o.F*(d||E),t,b);return b}},function(e,t,n){e.exports=n(13)},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(14),o=n(28),i=n(52)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(8);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(24),o=n(1)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(8),o=n(36),i=n(1)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r,o,i,a=n(20),u=n(138),s=n(77),c=n(47),f=n(2),l=f.process,p=f.setImmediate,d=f.clearImmediate,h=f.MessageChannel,y=f.Dispatch,v=0,m={},g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){g.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){u("function"==typeof e?e:Function(e),t)},r(v),v},d=function(e){delete m[e]},"process"==n(27)(l)?r=function(e){l.nextTick(a(g,e,1))}:y&&y.now?r=function(e){y.now(a(g,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:p,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(59);e.exports=function(e,t){var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){y&&d&&(y=!1,d.length?h=d.concat(h):v=-1,h.length&&u())}function u(){if(!y){var e=o(a);y=!0;for(var t=h.length;t;){for(d=h,h=[];++v<t;)d&&d[v].run();v=-1,t=h.length}d=null,y=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var f,l,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var d,h=[],y=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||y||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){var r=n(72),o=n(54).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(38),o=n(26),i=n(15),a=n(48),u=n(14),s=n(71),c=Object.getOwnPropertyDescriptor;t.f=n(9)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(62),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(4),o=n(0),i=n(22);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){e.exports={default:n(171),__esModule:!0}},function(e,t,n){e.exports={default:n(174),__esModule:!0}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.currentSession=t.popupLogin=t.login=t.fetch=void 0;var i=n(19),a=o(i),u=n(5),s=o(u),c=n(6),f=o(c),l=function(){var e=(0,f.default)(s.default.mark(function e(t,n){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,n[0]();case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",(0,h.saveSession)(t)(r));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:return e.abrupt("return",l(t,n.slice(1)));case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t,n){return e.apply(this,arguments)}}(),p=(t.login=function(){var e=(0,f.default)(s.default.mark(function e(t,n){var r,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.default)({},_(),n),e.next=3,g.login(t);case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",(0,h.saveSession)(n.storage)(r));case 6:return e.next=8,w.login(t,n);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.popupLogin=function(){var e=(0,f.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.popupUri){e.next=2;break}throw new Error("Must provide options.popupUri");case 2:return t.callbackUri||(t.callbackUri=t.popupUri),t=(0,a.default)({},_(),t),n=(0,d.openIdpSelector)(t),e.next=7,(0,d.startPopupServer)(t.storage,n,t);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.currentSession=function(){var e=(0,f.default)(s.default.mark(function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,y.defaultStorage)();return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.getSession)(n);case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",l(n,[w.currentSession.bind(null,n)]));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.logout=function(){var e=(0,f.default)(s.default.mark(function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,y.defaultStorage)();return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.getSession)(n);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:e.t0=t.authType,e.next="WebID-OIDC"===e.t0?8:(e.t0,18);break;case 8:return e.prev=8,e.next=11,w.logout(n);case 11:e.next=17;break;case 13:e.prev=13,e.t1=e.catch(8),console.warn("Error logging out:"),console.error(e.t1);case 17:case 18:return e.abrupt("break",19);case 19:return e.abrupt("return",(0,h.clearSession)(n));case 20:case"end":return e.stop()}},e,this,[[8,13]])}));return function(){return e.apply(this,arguments)}}(),n(176)),d=n(221),h=n(65),y=n(17),v=n(70),m=n(117),g=r(m),b=n(66),w=r(b),_=function(){var e=(0,v.currentUrlNoParams)();return{callbackUri:e?e.split("#")[0]:null,popupUri:null,storage:(0,y.defaultStorage)()}};t.fetch=function(e,t){return(0,p.authnFetch)((0,y.defaultStorage)())(e,t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.format=void 0;var o=n(179),i=r(o),a=n(180),u=r(a);t.format=i.default,t.parse=u.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^[^\u0000-\u001F\u007F()<>@,;:\\"\/?={}\[\]\u0020\u0009]+$/,o=t.isToken=function(e){return"string"==typeof e&&r.test(e)};t.isScheme=o,t.quote=function(e){return'"'+e.replace(/"/g,'\\"')+'"'},t.unquote=function(e){return e.substr(1,e.length-2).replace(/\\"/g,'"')}},function(e,t,n){"use strict";(function(t){function r(e){return e&&e.__esModule?e:{default:e}}var o=n(35),i=r(o),a=n(63),u=r(a),s=n(10),c=r(s),f=n(33),l=r(f),p=n(11),d=r(p),h=n(12),y=r(h),v=n(42),m=r(v),g=n(43),b=r(g),w=n(67),_=n(97),x=n(44),S=x.URL,k=_.Headers?_.Headers:t.Headers,E=n(3),O=E.JSONDocument,A=n(34),P=A.JWKSet,j=n(202),T=n(215),I=n(219),R=n(116),C=function(e){function t(){return(0,d.default)(this,t),(0,m.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,y.default)(t,[{key:"discover",value:function(){var e=this;try{var t=this.provider.url;w(t,'RelyingParty provider must define "url"');var n=new S(t);return n.pathname=".well-known/openid-configuration",_(n.toString()).then(R("Error fetching openid configuration")).then(function(t){return t.json().then(function(t){return e.provider.configuration=t})})}catch(e){return c.default.reject(e)}}},{key:"register",value:function(e){var t=this;try{var n=this.provider.configuration;w(n,"OpenID Configuration is not initialized."),w(n.registration_endpoint,"OpenID Configuration is missing registration_endpoint.");var r=n.registration_endpoint,o=new k({"Content-Type":"application/json"}),a=this.defaults.register,s=(0,u.default)((0,i.default)({},a,e));return _(r,{method:"post",headers:o,body:s}).then(R("Error registering client")).then(function(e){return e.json().then(function(e){return t.registration=e})})}catch(e){return c.default.reject(e)}}},{key:"serialize",value:function(){return(0,u.default)(this)}},{key:"jwks",value:function(){var e=this;try{var t=this.provider.configuration;w(t,"OpenID Configuration is not initialized."),w(t.jwks_uri,"OpenID Configuration is missing jwks_uri.");var n=t.jwks_uri;return _(n).then(R("Error resolving provider keys")).then(function(t){return t.json().then(function(e){return P.importKeys(e)}).then(function(t){return e.provider.jwks=t})})}catch(e){return c.default.reject(e)}}},{key:"createRequest",value:function(e,t){return j.create(this,e,t||this.store)}},{key:"validateResponse",value:function(e,t){return t=t||this.store,e=e.match(/^http(s?):\/\//)?{rp:this,redirect:e,session:t}:{rp:this,body:e,session:t},T.validateResponse(e)}},{key:"userinfo",value:function(){try{var e=this.provider.configuration;w(e,"OpenID Configuration is not initialized."),w(e.userinfo_endpoint,"OpenID Configuration is missing userinfo_endpoint.");var t=e.userinfo_endpoint,n=this.store.access_token;w(n,"Missing access token.");var r=new k({"Content-Type":"application/json",Authorization:"Bearer "+n});return _(t,{headers:r}).then(R("Error fetching userinfo")).then(function(e){return e.json()})}catch(e){return c.default.reject(e)}}},{key:"logout",value:function(){var e=void 0;try{w(this.provider,"OpenID Configuration is not initialized."),e=this.provider.configuration,w(e,"OpenID Configuration is not initialized."),w(e.end_session_endpoint,"OpenID Configuration is missing end_session_endpoint.")}catch(e){return c.default.reject(e)}this.clearSession();var t=e.end_session_endpoint;return _(t,{method:"get"}).then(R("Error logging out"))}},{key:"clearSession",value:function(){var e=this.store;e&&delete e[N]}},{key:"popTokenFor",value:function(e,t){return PoPToken.issueFor(e,t,this)}}],[{key:"from",value:function(e){var n=new t(e),r=n.validate();if(!r.valid)return c.default.reject(new Error((0,u.default)(r)));var o=n.provider.jwks;return o?P.importKeys(o).then(function(e){return n.provider.jwks=e,n}):n.jwks().then(function(){return n})}},{key:"register",value:function(e,n,r){var o=new t({provider:{url:e},defaults:(0,i.default)({},r.defaults),store:r.store});return c.default.resolve().then(function(){return o.discover()}).then(function(){return o.jwks()}).then(function(){return o.register(n)}).then(function(){return o})}},{key:"schema",get:function(){return I}}]),t}(O),N="oidc.session.privateKey";C.SESSION_PRIVATE_KEY=N,e.exports=C}).call(t,n(16))},function(e,t){e.exports=fetch},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,a=/^(?:[a-z][a-z0-9+-.]*)?(?:\:|\/)\/?[^\s]*$/i,u=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,c=/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,f=/^[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?(\.[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?)*$/i,l=function(){function e(){r(this,e)}return o(e,[{key:"register",value:function(e,t){if("string"!=typeof e)throw new Error("Format name must be a string");return"string"==typeof t&&(t=new RegExp(t)),this[e]=t}},{key:"resolve",value:function(e){var t=this[e];if(!t)throw new Error("Unknown JSON Schema format.");return t}},{key:"test",value:function(e,t){return this.resolve(e).test(t)}}],[{key:"initialize",value:function(){var t=new e;return t.register("date-time",i),t.register("uri",a),t.register("email",u),t.register("ipv4",s),t.register("ipv6",c),t.register("hostname",f),t}}]),e}();e.exports=l.initialize()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),Object.assign(this,n||{}),this.root=this.root||this,this.root.depth=this.root.depth||1,this.level>this.root.depth&&(this.root.depth=this.level),this.level=this.level||0,this.schema=t}return i(e,[{key:"compile",value:function(){var e=this.root,t=(this.depth,this.level,""),n="";if(n+=this.default(),n+=this.properties(),n+=this.items(),n+=this.member(),n+=this.item(),e===this){for(var r=1;r<=this.root.depth;r++)t+=this.declaration(r);return"\n        options = options || {}\n\n        if (options.filter === false) {\n          Object.assign(target, JSON.parse(JSON.stringify(source)))\n        }\n\n        "+t+"\n        "+n+"\n      "}return n}},{key:"declaration",value:function(e){return"\n      var target"+e+"\n      var source"+e+"\n      var count"+e+"\n    "}},{key:"default",value:function(){var e=this.schema,t=this.level,n=this.key,r=this.index,o=e.default,i="";return e.hasOwnProperty("default")&&(n&&(i+="\n          target"+t+"['"+n+"'] = "+JSON.stringify(o)+"\n        "),r&&(i+="\n          target"+t+"["+r+"] = "+JSON.stringify(o)+"\n        "),t>1&&(i+="\n          count"+t+"++\n        "),i="\n        if (options.defaults !== false) {\n          "+i+"\n        }\n      "),i}},{key:"member",value:function(){var e=this.schema,t=(this.root,this.level),n=this.key,r=e.properties,o=e.additionalProperties,i=e.items,a=e.additionalItems,u="";return!n||r||o||i||a||(u+="\n        target"+t+"['"+n+"'] = source"+t+"['"+n+"']\n      ",t>1&&(u+="\n          count"+t+"++\n        "),u="\n        if (source"+t+".hasOwnProperty('"+n+"')) {\n          "+u+"\n        }\n      "),u}},{key:"item",value:function(){var e=this.schema,t=(this.root,this.level),n=this.index,r=e.properties,o=e.additionalProperties,i=e.items,a=e.additionalItems,u="";return!n||r||o||i||a||(u+="\n        target"+t+"["+n+"] = source"+t+"["+n+"]\n      ",t>1&&(u+="\n          count"+t+"++\n        "),u="\n        if ("+n+" < len) {\n          "+u+"\n        }\n      "),u}},{key:"properties",value:function(){var t=this.schema,n=this.root,r=this.level,o=this.key,i=this.index,a=t.properties,u="";return a&&(Object.keys(a).forEach(function(t){var o=a[t],i=new e(o,{key:t,root:n,level:r+1});u+=i.compile()}),n===this?u="\n          if (typeof source === 'object' && source !== null && !Array.isArray(source)) {\n            if (typeof target !== 'object') {\n              throw new Error('?')\n            }\n\n            source1 = source\n            target1 = target\n            count1 = 0\n\n            "+u+"\n          }\n        ":(i&&(u="\n            if ("+i+" < source"+r+".length || typeof source"+r+"["+i+"] === 'object') {\n\n              source"+(r+1)+" = source"+r+"["+i+"] || {}\n              count"+(r+1)+" = 0\n\n              if ("+i+" < target"+r+".length || typeof target"+r+"["+i+"] !== 'object') {\n                target"+(r+1)+" = {}\n                if ("+i+" < source"+r+".length) {\n                  count"+(r+1)+"++\n                }\n              } else {\n                target"+(r+1)+" = target"+r+"["+i+"]\n              }\n\n              "+u+"\n\n              if (count"+(r+1)+" > 0) {\n                target"+r+"["+i+"] = target"+(r+1)+"\n                count"+r+"++\n              }\n\n            } else {\n              target"+r+"["+i+"] = source"+r+"["+i+"]\n              count"+r+"++\n            }\n          "),o&&(u="\n            if ((typeof source"+r+"['"+o+"'] === 'object'\n                  && source"+r+"['"+o+"'] !== null\n                  && !Array.isArray(source"+r+"['"+o+"']))\n                || !source"+r+".hasOwnProperty('"+o+"')) {\n\n              source"+(r+1)+" = source"+r+"['"+o+"'] || {}\n              count"+(r+1)+" = 0\n\n              if (!target"+r+".hasOwnProperty('"+o+"')\n                  || typeof target"+r+"['"+o+"'] !== 'object'\n                  || target"+r+"['"+o+"'] === null\n                  || Array.isArray(target"+r+"['"+o+"'])) {\n                target"+(r+1)+" = {}\n                if (source"+r+".hasOwnProperty('"+o+"')) {\n                  count"+(r+1)+"++\n                }\n              } else {\n                target"+(r+1)+" = target"+r+"['"+o+"']\n                count"+(r+1)+"++\n              }\n\n              "+u+"\n\n              if (count"+(r+1)+" > 0) {\n                target"+r+"['"+o+"'] = target"+(r+1)+"\n                count"+r+"++\n              }\n\n            } else {\n              target"+r+"['"+o+"'] = source"+r+"['"+o+"']\n              count"+r+"++\n            }\n          "))),u}},{key:"additionalProperties",value:function(){}},{key:"items",value:function(){var t=this.schema,n=this.root,r=this.level,i=this.key,a=(this.index,t.items),u="";if(a){if(Array.isArray(a));else if("object"===(void 0===a?"undefined":o(a))&&null!==a){var s="i"+(r+1),c=new e(a,{index:s,root:n,level:r+1});u+="\n          var sLen = source"+(r+1)+".length || 0\n          var tLen = target"+(r+1)+".length || 0\n          var len = 0\n\n          if (sLen > len) { len = sLen }\n          // THIS IS WRONG, CAUSED SIMPLE ARRAY INIT TO FAIL (OVERWRITE\n          // EXISTING TARGET VALUES WITH UNDEFINED WHEN SOURCE IS SHORTER THAN\n          // TARGET). LEAVING HERE UNTIL WE FINISH TESTING AND SEE WHY IT MIGHT\n          // HAVE BEEN HERE IN THE FIRST PLACE.\n          //\n          // if (tLen > len) { len = tLen }\n\n          for (var "+s+" = 0; "+s+" < len; "+s+"++) {\n            "+c.compile()+"\n          }\n        "}u=n===this?"\n          if (Array.isArray(source)) {\n            if (!Array.isArray(target)) {\n              throw new Error('?')\n            }\n\n            source1 = source\n            target1 = target\n\n            "+u+"\n          }\n        ":"\n          if (Array.isArray(source"+r+"['"+i+"']) || !source"+r+".hasOwnProperty('"+i+"')) {\n\n            source"+(r+1)+" = source"+r+"['"+i+"'] || []\n            count"+(r+1)+" = 0\n\n            if (!target"+r+".hasOwnProperty('"+i+"') || !Array.isArray(target"+r+"['"+i+"'])) {\n              target"+(r+1)+" = []\n                if (source"+r+".hasOwnProperty('"+i+"')) {\n                  count"+(r+1)+"++\n                }\n\n            } else {\n              target"+(r+1)+" = target"+r+"['"+i+"']\n              count"+(r+1)+"++\n            }\n\n            "+u+"\n\n            if (count"+(r+1)+" > 0) {\n              target"+r+"['"+i+"'] = target"+(r+1)+"\n              count"+r+"++\n            }\n\n          } else {\n            target"+r+"['"+i+"'] = source"+r+"['"+i+"']\n            count"+r+"++\n          }\n        "}return u}},{key:"additionalItems",value:function(){}}],[{key:"compile",value:function(t){var n=new e(t),r=n.compile();try{return new Function("target","source","options",r)}catch(e){console.log(e,e.stack)}}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(68),u=["add","remove","replace","move","copy","test"],s=function(){function e(t){r(this,e),this.ops=t||[]}return i(e,[{key:"apply",value:function(e){var t=this;this.ops.forEach(function(n){var r=n.op;if(!r)throw new Error('Missing "op" in JSON Patch operation');if(-1===u.indexOf(r))throw new Error('Invalid "op" in JSON Patch operation');if(!n.path)throw new Error('Missing "path" in JSON Patch operation');t[r](n,e)})}},{key:"add",value:function(e,t){if(void 0===e.value)throw new Error('Missing "value" in JSON Patch add operation');new a(e.path,2).add(t,e.value)}},{key:"remove",value:function(e,t){new a(e.path).remove(t)}},{key:"replace",value:function(e,t){if(void 0===e.value)throw new Error('Missing "value" in JSON Patch replace operation');new a(e.path).replace(t,e.value)}},{key:"move",value:function(e,t){if(void 0===e.from)throw new Error('Missing "from" in JSON Patch move operation');if(e.path.match(new RegExp("^"+e.from)))throw new Error('Invalid "from" in JSON Patch move operation');var n=new a(e.path),r=new a(e.from),o=r.get(t);r.remove(t),n.add(t,o)}},{key:"copy",value:function(e,t){if(void 0===e.from)throw new Error('Missing "from" in JSON Patch copy operation');var n=new a(e.path),r=new a(e.from),o=r.get(t);n.add(t,o)}},{key:"test",value:function(e,t){if(void 0===e.value)throw new Error('Missing "value" in JSON Patch test operation');var n=new a(e.path),r=n.get(t);if(o(e.value),r!==e.value)throw new Error("Mismatching JSON Patch test value")}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(98),u=0,s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.schema=t,Object.assign(this,n),this.address||(this.address=""),!0!==this.require&&(this.require=!1)}return i(e,null,[{key:"compile",value:function(t){var n=new e(t),r='\n      // "cursor"\n      let value = data\n      let container\n      let stack = []\n      let top = -1\n\n      // error state\n      let valid = true\n      let errors = []\n\n      // complex schema state\n      let initialValidity\n      let anyValid\n      let notValid\n      let countOfValid\n      let initialErrorCount\n      let accumulatedErrorCount\n\n      // validation code\n      '+n.compile()+"\n\n      // validation result\n      return {\n        valid,\n        errors\n      }\n    ";return new Function("data",r)}},{key:"counter",get:function(){return u++}}]),i(e,[{key:"compile",value:function(){var e="";return this.require&&(e+=this.required()),e+=this.type(),e+=this.array(),e+=this.number(),e+=this.object(),e+=this.string(),e+=this.enum(),e+=this.anyOf(),e+=this.allOf(),e+=this.not(),e+=this.oneOf()}},{key:"push",value:function(){return"\n      stack.push(value)\n      container = value\n      top++\n    "}},{key:"pop",value:function(){return"\n      if (stack.length > 1) {\n        top--\n        stack.pop()\n      }\n\n      value = container = stack[top]\n    "}},{key:"type",value:function(){var e=this.schema.type,t=this.address,n="";if(e){n+="\n      // "+t+" type checking\n      if (value !== undefined && "+(Array.isArray(e)?e:[e]).map(function(e){return"array"===e?"!Array.isArray(value)":"boolean"===e?"typeof value !== 'boolean'":"integer"===e?"!Number.isInteger(value)":"null"===e?"value !== null":"number"===e?"typeof value !== 'number'":"object"===e?"(typeof value !== 'object' || Array.isArray(value) || value === null)":"string"===e?"typeof value !== 'string'":void 0}).join(" && ")+") {\n        valid = false\n        errors.push({\n          keyword: 'type',\n          message: 'invalid type'\n        })\n      }\n      "}return n}},{key:"array",value:function(){var e=["additionalItems","items","minItems","maxItems","uniqueItems"],t=this.validations(e),n="";return t.length>0&&(n+="\n      /**\n       * Array validations\n       */\n      if (Array.isArray(value)) {\n      "+t+"\n      }\n      "),n}},{key:"number",value:function(){var e=["minimum","maximum","multipleOf"],t=this.validations(e),n="";return t.length>0&&(n+="\n      /**\n       * Number validations\n       */\n      if (typeof value === 'number') {\n      "+t+"\n      }\n      "),n}},{key:"object",value:function(){var e=["maxProperties","minProperties","additionalProperties","properties","patternProperties","dependencies","schemaDependencies","propertyDependencies"],t=this.validations(e),n="";return t.length>0&&(n+="\n      /**\n       * Object validations\n       */\n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n      "+t+"\n      }\n      "),n}},{key:"string",value:function(){var e=["maxLength","minLength","pattern","format"],t=this.validations(e),n="";return t.length>0&&(n+="\n      /**\n       * String validations\n       */\n      if (typeof value === 'string') {\n      "+t+"\n      }\n      "),n}},{key:"validations",value:function(e){var t=this,n=this.schema,r="";return Object.keys(n).filter(function(t){return-1!==e.indexOf(t)}).forEach(function(e){r+=t[e]()}),r}},{key:"enum",value:function(){var e=this.schema.enum,t=this.address,n=["value !== undefined"],r="";return e&&(e.forEach(function(e){switch(void 0===e?"undefined":o(e)){case"boolean":case"number":n.push("value !== "+e);break;case"string":n.push('value !== "'+e+'"');break;case"object":null===e?n.push("value !== null"):n.push("'"+JSON.stringify(e)+"' !== JSON.stringify(value)");break;default:throw new Error("Things are not well in the land of enum")}}),r+='\n      /**\n       * Validate "'+t+'" enum\n       */\n      if ('+n.join(" && ")+") {\n        valid = false\n        errors.push({\n          keyword: 'enum',\n          message: JSON.stringify(value) + ' is not an enumerated value'\n        })\n      }\n      "),r}},{key:"anyOf",value:function(){var t=this.schema.anyOf,n=this.address,r="";return Array.isArray(t)&&(r+="\n        initialValidity = valid\n        initialErrorCount = errors.length\n        anyValid = false\n      ",t.forEach(function(t){var o=new e(t,{address:n});r+="\n        accumulatedErrorCount = errors.length\n        "+o.compile()+"\n        if (accumulatedErrorCount === errors.length) {\n          anyValid = true\n        }\n        "}),r+="\n          if (anyValid === true) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          }\n      "),r}},{key:"allOf",value:function(){var t=this.schema.allOf,n=this.address,r="";return Array.isArray(t)&&t.forEach(function(t){var o=new e(t,{address:n});r+="\n        "+o.compile()+"\n        "}),r}},{key:"oneOf",value:function(){var t=this.schema.oneOf,n=this.address,r="";return Array.isArray(t)&&(r+="\n        /**\n         * Validate "+n+" oneOf\n         */\n        initialValidity = valid\n        initialErrorCount = errors.length\n        countOfValid = 0\n      ",t.forEach(function(t){var o=new e(t,{address:n});r+="\n        accumulatedErrorCount = errors.length\n        "+o.compile()+"\n        if (accumulatedErrorCount === errors.length) {\n          countOfValid += 1\n        }\n        "}),r+="\n          if (countOfValid === 1) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          } else {\n            valid = false\n            errors.push({\n              keyword: 'oneOf',\n              message: 'what is a reasonable error message for this case?'\n            })\n          }\n      "),r}},{key:"not",value:function(){var t=this.schema.not,n=this.address,r="";if("object"===(void 0===t?"undefined":o(t))&&null!==t&&!Array.isArray(t)){r+="\n        /**\n         * NOT\n         */\n        if (value !== undefined) {\n          initialValidity = valid\n          initialErrorCount = errors.length\n          notValid = true\n\n          accumulatedErrorCount = errors.length\n\n          "+new e(t,{address:n}).compile()+"\n\n          if (accumulatedErrorCount === errors.length) {\n            notValid = false\n          }\n\n          if (notValid === true) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          } else {\n            valid = false\n            errors = errors.slice(0, initialErrorCount)\n            errors.push({\n              keyword: 'not',\n              message: 'hmm...'\n            })\n          }\n        }\n      "}return r}},{key:"properties",value:function(){var t=this.schema,n=this.address,r=t.properties,i=t.required,a=this.push();return i=Array.isArray(i)?i:[],"object"===(void 0===r?"undefined":o(r))&&Object.keys(r).forEach(function(t){var o=r[t],u=-1!==i.indexOf(t),s=[n,t].filter(function(e){return!!e}).join("."),c=new e(o,{address:s,require:u});a+="\n        value = container['"+t+"']\n        ",a+=c.compile()}),a+=this.pop()}},{key:"otherProperties",value:function(){return"\n      /**\n       * Validate Other Properties\n       */\n      "+this.push()+"\n\n      for (let key in container) {\n        value = container[key]\n        matched = false\n\n        "+this.patternValidations()+"\n        "+this.additionalValidations()+"\n      }\n\n      "+this.pop()+"\n    "}},{key:"patternValidations",value:function(){var t=this.schema.patternProperties,n="";return"object"===(void 0===t?"undefined":o(t))&&Object.keys(t).forEach(function(r){var o=t[r],i=new e(o);n+="\n          if (key.match('"+r+"')) {\n            matched = true\n            "+i.compile()+"\n          }\n        "}),n}},{key:"additionalValidations",value:function(){var t=this.schema,n=t.properties,r=t.additionalProperties,i=this.address,a="",u=["matched !== true"];if(Object.keys(n||{}).forEach(function(e){u.push("key !== '"+e+"'")}),"object"===(void 0===r?"undefined":o(r))){var s=r,c=new e(s,{address:i+"[APKey]"});a+="\n        // validate additional properties\n        if ("+u.join(" && ")+") {\n          "+c.compile()+"\n        }\n      "}return!1===r&&(a+="\n        // validate non-presence of additional properties\n        if ("+u.join(" && ")+") {\n          valid = false\n          errors.push({\n            keyword: 'additionalProperties',\n            message: key + ' is not a defined property'\n          })\n        }\n      "),a}},{key:"patternProperties",value:function(){var e="";return this.otherPropertiesCalled||(this.otherPropertiesCalled=!0,e+=this.otherProperties()),e}},{key:"additionalProperties",value:function(){var e="";return this.otherPropertiesCalled||(this.otherPropertiesCalled=!0,e+=this.otherProperties()),e}},{key:"minProperties",value:function(){var e=this.schema.minProperties;return"\n        // "+this.address+" min properties\n        if (Object.keys(value).length < "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'minProperties',\n            message: 'too few properties'\n          })\n        }\n    "}},{key:"maxProperties",value:function(){var e=this.schema.maxProperties;return"\n        // "+this.address+" max properties\n        if (Object.keys(value).length > "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'maxProperties',\n            message: 'too many properties'\n          })\n        }\n    "}},{key:"dependencies",value:function(){var t=this.schema.dependencies,n=this.address,r=this.push();return"object"===(void 0===t?"undefined":o(t))&&Object.keys(t).forEach(function(i){var a=t[i],u=[];if(Array.isArray(a))a.forEach(function(e){u.push("container['"+e+"'] === undefined")}),r+="\n            if (container['"+i+"'] !== undefined && ("+u.join(" || ")+")) {\n              valid = false\n              errors.push({\n                keyword: 'dependencies',\n                message: 'unmet dependencies'\n              })\n            }\n          ";else if("object"===(void 0===a?"undefined":o(a))){var s=a,c=new e(s,{address:n});r+="\n            if (container['"+i+"'] !== undefined) {\n              "+c.compile()+"\n            }\n          "}}),r+=this.pop()}},{key:"required",value:function(){var e=(this.schema.properties,this.address),t="";return t+="\n      // validate "+e+" presence\n      if (value === undefined) {\n        valid = false\n        errors.push({\n          keyword: 'required',\n          message: 'is required'\n        })\n      }\n    "}},{key:"additionalItems",value:function(){var t=this.schema,n=t.items,r=t.additionalItems,i=(this.address,"");if(!1===r&&Array.isArray(n)&&(i+="\n        // don't allow additional items\n        if (value.length > "+n.length+") {\n          valid = false\n          errors.push({\n            keyword: 'additionalItems',\n            message: 'additional items not allowed'\n          })\n        }\n      "),"object"===(void 0===r?"undefined":o(r))&&null!==r&&Array.isArray(n)){var a=r,u=new e(a),s=e.counter;i+="\n        // additional items\n        "+this.push()+"\n\n        for (var i"+s+" = "+n.length+"; i"+s+" <= container.length; i"+s+"++) {\n          value = container[i"+s+"]\n          "+u.compile()+"\n        }\n\n        "+this.pop()+"\n      "}return i}},{key:"items",value:function(){var t=this.schema.items,n=this.address,r="";if(Array.isArray(t))r+=this.push(),t.forEach(function(t,o){var i=t,a=new e(i,{address:n+"["+o+"]"});r+="\n          // item #"+o+"\n          value = container["+o+"]\n          "+a.compile()+"\n        "}),r+=this.pop();else if("object"===(void 0===t?"undefined":o(t))&&null!==t){var i=t,a=new e(i),u=e.counter;r+="\n        // items\n        "+this.push()+"\n\n        for (var i"+u+" = 0; i"+u+" < container.length; i"+u+"++) {\n          // read array element\n          value = container[i"+u+"]\n          "+a.compile()+"\n        }\n\n        "+this.pop()+"\n      "}return r}},{key:"minItems",value:function(){var e=this.schema.minItems;return"\n        // "+this.address+" min items\n        if (value.length < "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'minItems',\n            message: 'too few properties'\n          })\n        }\n    "}},{key:"maxItems",value:function(){var e=this.schema.maxItems;return"\n        // "+this.address+" max items\n        if (value.length > "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'maxItems',\n            message: 'too many properties'\n          })\n        }\n    "}},{key:"uniqueItems",value:function(){var e=this.schema.uniqueItems,t=this.address,n="";return!0===e&&(n+="\n        // validate "+t+" unique items\n        let values = value.map(v => JSON.stringify(v)) // TODO: optimize\n        let set = new Set(values)\n        if (values.length !== set.size) {\n          valid = false\n          errors.push({\n            keyword: 'uniqueItems',\n            message: 'items must be unique'\n          })\n        }\n      "),n}},{key:"minLength",value:function(){var e=this.schema.minLength;return"\n        // "+this.address+" validate minLength\n        if (Array.from(value).length < "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'minLength',\n            message: 'too short'\n          })\n        }\n    "}},{key:"maxLength",value:function(){var e=this.schema.maxLength;return"\n        // "+this.address+" validate maxLength\n        if (Array.from(value).length > "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'maxLength',\n            message: 'too long'\n          })\n        }\n    "}},{key:"pattern",value:function(){var e=this.schema.pattern,t=this.address;if(e)return"\n          // "+t+" validate pattern\n          if (!value.match(new RegExp('"+e+"'))) {\n            valid = false\n            errors.push({\n              keyword: 'pattern',\n              message: 'does not match the required pattern'\n            })\n          }\n      "}},{key:"format",value:function(){var e=this.schema.format,t=this.address,n=a.resolve(e);if(n)return"\n      // "+t+" validate format\n      if (!value.match("+n+")) {\n        valid = false\n        errors.push({\n          keyword: 'format',\n          message: 'is not \""+e+"\" format'\n        })\n      }\n      "}},{key:"minimum",value:function(){var e=this.schema,t=e.minimum,n=e.exclusiveMinimum;return"\n        // "+this.address+" validate minimum\n        if (value "+(!0===n?"<=":"<")+" "+t+") {\n          valid = false\n          errors.push({\n            keyword: 'minimum',\n            message: 'too small'\n          })\n        }\n    "}},{key:"maximum",value:function(){var e=this.schema,t=e.maximum,n=e.exclusiveMaximum;return"\n        // "+this.address+" validate maximum\n        if (value "+(!0===n?">=":">")+" "+t+") {\n          valid = false\n          errors.push({\n            keyword: 'maximum',\n            message: 'too large'\n          })\n        }\n    "}},{key:"multipleOf",value:function(){var e=this.schema.multipleOf,t="";if("number"==typeof e){var n=e.toString().length,r=n-e.toFixed(0).length-1,o=r>0?Math.pow(10,r):1,i=void 0;i=r>0?"(value * "+o+") % "+e*o+" !== 0":"value % "+e+" !== 0",t+="\n        if ("+i+") {\n          valid = false\n          errors.push({\n            keyword: 'multipleOf',\n            message: 'must be a multiple of "+e+"'\n          })\n        }\n      "}return t}}]),e}();e.exports=s},function(e,t,n){"use strict";(function(t){var r=t.TextEncoder?t.TextEncoder:n(196).TextEncoder;e.exports=r}).call(t,n(16))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.message=e+" is not a supported algorithm",n}return i(t,e),t}(Error);e.exports=a},function(e,t,n){"use strict";e.exports={DataError:n(105),NotSupportedError:n(103)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),t}(Error);e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),s=u.JSONDocument,c=n(46),f=n(69),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,null,[{key:"importKey",value:function(e){return f.importKey(e)}},{key:"schema",get:function(){return c}}]),t}(s);e.exports=l},function(e,t,n){"use strict";var r=n(3),o=r.JSONSchema,i=n(46),a=new o({type:"object",properties:{keys:{type:"array",items:i}}});e.exports=a},function(e,t,n){"use strict";var r=n(109),o=n(110),i=n(111),a=n(3),u=a.JSONSchema,s=new u({type:"object",properties:{type:{type:"string",enum:["JWS","JWE"]},segments:{type:"array"},header:i,protected:i,unprotected:i,iv:r,aad:r,ciphertext:r,tag:r,recipients:{type:"array",items:{type:"object",properties:{header:i,encrypted_key:r}}},payload:o,signatures:{type:"array",items:{type:"object",properties:{protected:i,header:i,signature:r,key:{type:"object"}}}},signature:r,verified:{type:"boolean",default:!1},key:{type:"object"},serialization:{type:"string",enum:["compact","json","flattened"],default:"compact"}}});e.exports=s},function(e,t,n){"use strict";var r=n(3),o=r.JSONSchema,i=new o({type:"string",format:"base64url"});e.exports=i},function(e,t,n){"use strict";var r=n(3),o=r.JSONSchema,i=new o({properties:{iss:{type:"string",format:"StringOrURI"},sub:{type:"string",format:"StringOrURI"},aud:{type:["array","string"],format:"StringOrURI",items:{format:"StringOrURI"}},exp:{type:"number",format:"NumericDate"},nbf:{type:"number",format:"NumericDate"},iat:{type:"number",format:"NumericDate"},jti:{type:"string"}}});e.exports=i},function(e,t,n){"use strict";var r=(n(46),n(3)),o=r.JSONSchema,i=new o({type:"object",properties:{typ:{type:"string"},cty:{type:"string",enum:["JWT"]},alg:{type:"string",format:"StringOrURI"},jku:{type:"string",format:"URI"},kid:{type:"string"},x5u:{type:"string",format:"URI"},x5c:{type:"array",items:{type:"string",format:"base64"}},x5t:{type:"string",format:"base64url"},crit:{type:"array",items:{type:"string"},minItems:1},enc:{type:"string",format:"StringOrURI"},zip:{type:"string"}}});e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(18),u=n(69),s=n(104),c=s.DataError,f=function(){function e(){r(this,e)}return i(e,null,[{key:"sign",value:function(e){var t=a(JSON.stringify(e.payload));if("compact"===e.serialization){var n=e.key,r=e.header.alg,o=a(JSON.stringify(e.header)),i=o+"."+t;return u.sign(r,n,i).then(function(e){return i+"."+e})}return e.serialization,e.serialization,Promise.reject(new c("Unsupported serialization"))}},{key:"verify",value:function(e){e.signatures;var t=e.key,n=e.signature,r=e.header.alg;if(e.signature){var i=o(e.segments,2),a=i[0],s=i[1],f=a+"."+s;return"none"===r?Promise.reject(new c("Signature provided to verify with alg: none")):u.verify(r,t,n,f).then(function(t){return e.verified=t,t})}if("none"===r){if(!t&&!n)return e.verified=!0,Promise.resolve(!0);if(t)return Promise.reject(new c("Key provided to verify signature with alg: none"))}return Promise.reject(new c("Missing signature(s)"))}}]),e}();e.exports=f},function(e,t,n){e.exports={default:n(203),__esModule:!0}},function(e,t,n){e.exports={default:n(212),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(113),i=r(o),a=n(11),u=r(a),s=n(12),c=r(s),f=function(){function e(){(0,u.default)(this,e)}return(0,c.default)(e,null,[{key:"encode",value:function(e){var t=[];return(0,i.default)(e).forEach(function(n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}),t.join("&")}},{key:"decode",value:function(e){var t={};return e.split("&").forEach(function(e){var n=e.split("="),r=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);t[r]=o}),t}}]),e}();e.exports=f},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fetch error";return function(t){if(t.status>=200&&t.status<300)return t;var n=e+": "+t.status+" "+t.statusText,r=new Error(n);throw r.response=t,r.statusCode=t.status,r}}e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requiresAuth=t.login=void 0,n(64);var r=n(94),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);t.login=function(e){return fetch(e,{method:"HEAD",credentials:"include"}).then(function(e){return e.headers.get("user")}).then(function(t){return t?{authType:"WebID-TLS",idp:e,webId:t}:null})},t.requiresAuth=function(e){if(401!==e.status)return!1;var t=e.headers.get("www-authenticate");return!!t&&"WebID-TLS"===o.parse(t).scheme}},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=h[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(f(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(f(r.parts[i],t));h[r.id]={id:r.id,refs:1,parts:a}}}}function o(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],u=i[1],s=i[2],c=i[3],f={css:u,media:s,sourceMap:c};r[a]?r[a].parts.push(f):n.push(r[a]={id:a,parts:[f]})}return n}function i(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function u(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),i(e,t),t}function s(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),i(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function f(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var c=g++;n=m||(m=u(t)),r=l.bind(null,n,c,!1),o=l.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=d.bind(null,n,t),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(t),r=p.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=w(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}var h={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),m=null,g=0,b=[],w=n(226);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=y()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=o(e,t);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var u=n[a],s=h[u.id];s.refs--,i.push(s)}if(e){r(o(e,t),t)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete h[s.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,g.updateStorage)(sessionStorage,function(t){return(0,a.default)({},t,{appOrigin:e})})}var i=n(19),a=r(i),u=n(5),s=r(u),c=n(6),f=r(c),l=function(){var e=(0,f.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.opener){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,p();case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return n=(0,m.client)(window.opener,"*"),e.next=10,n({method:"getAppOrigin",args:[]});case 10:return t=e.sent,e.next=13,o(t);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,f.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.getData)(sessionStorage);case 2:return t=e.sent,n=t.appOrigin,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),d=n(30),h=r(d),y=n(30),v=r(y),m=n(31),g=n(17),b=n(168),w=r(b),_=n(223),x=r(_),S=n(227),k=r(S);n(228);var E=[{displayName:"Databox",url:"https://databox.me/",iconUrl:"https://solidtest.space/favicon.ico"},{displayName:"Solid Test Space",url:"https://solidtest.space/",iconUrl:"https://solidtest.space/favicon.ico"}];l().then(function(e){var t=void 0;t=e?window.location.hash?h.default.createElement(w.default,{appOrigin:e,afterLoggedIn:function(){return setTimeout(window.close,750)}}):h.default.createElement(x.default,{idps:E,appOrigin:e,appName:void 0}):h.default.createElement(k.default,{appName:void 0}),v.default.render(t,document.getElementById("app-container"))})},function(e,t,n){n(122),e.exports=n(0).Object.assign},function(e,t,n){var r=n(4);r(r.S+r.F,"Object",{assign:n(123)})},function(e,t,n){"use strict";var r=n(23),o=n(55),i=n(38),a=n(28),u=n(73),s=Object.assign;e.exports=!s||n(22)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,f=o.f,l=i.f;s>c;)for(var p,d=u(arguments[c++]),h=f?r(d).concat(f(d)):r(d),y=h.length,v=0;y>v;)l.call(d,p=h[v++])&&(n[p]=d[p]);return n}:s},function(e,t,n){var r=n(15),o=n(50),i=n(125);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),f=i(a,c);if(e&&n!=n){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((e||f in s)&&s[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(51),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(127),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),u=new d(r||[]);return a._invoke=c(e,n,u),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(n,o,i,a){var u=r(e[n],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function c(e,t,n){var o=E;return function(i,a){if(o===A)throw new Error("Generator is already running");if(o===P){if("throw"===i)throw a;return y()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=f(u,n);if(s){if(s===j)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===E)throw o=P,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=A;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?P:O,c.arg===j)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=P,n.method="throw",n.arg=c.arg)}}}function f(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,f(e,t),"throw"===t.method))return j;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,j;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,j):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,j)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function h(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:y}}function y(){return{value:v,done:!0}}var v,m=Object.prototype,g=m.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",S="object"==typeof e,k=t.regeneratorRuntime;if(k)return void(S&&(e.exports=k));k=t.regeneratorRuntime=S?e.exports:{},k.wrap=n;var E="suspendedStart",O="suspendedYield",A="executing",P="completed",j={},T={};T[w]=function(){return this};var I=Object.getPrototypeOf,R=I&&I(I(h([])));R&&R!==m&&g.call(R,w)&&(T=R);var C=a.prototype=o.prototype=Object.create(T);i.prototype=C.constructor=a,a.constructor=i,a[x]=i.displayName="GeneratorFunction",k.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},k.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,x in e||(e[x]="GeneratorFunction")),e.prototype=Object.create(C),e},k.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[_]=function(){return this},k.AsyncIterator=s,k.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return k.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(C),C[x]="Generator",C[w]=function(){return this},C.toString=function(){return"[object Generator]"},k.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},k.values=h,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,j):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),j},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),j}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),j}}}(function(){return this}()||Function("return this")())},function(e,t,n){n(74),n(29),n(41),n(135),n(142),n(143),e.exports=n(0).Promise},function(e,t,n){var r=n(51),o=n(49);e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s),i<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(56),o=n(26),i=n(40),a={};n(13)(a,n(1)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(7),o=n(8),i=n(23);e.exports=n(9)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){"use strict";var r=n(133),o=n(134),i=n(24),a=n(15);e.exports=n(75)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,o,i,a,u=n(39),s=n(2),c=n(20),f=n(57),l=n(4),p=n(21),d=n(36),h=n(136),y=n(137),v=n(81),m=n(82).set,g=n(139)(),b=n(59),w=n(83),_=n(84),x=s.TypeError,S=s.process,k=s.Promise,E="process"==f(S),O=function(){},A=o=b.f,P=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[n(1)("species")]=function(e){e(O,O)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t}catch(e){}}(),j=u?function(e,t){return e===t||e===k&&t===a}:function(e,t){return e===t},T=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a=o?t.ok:t.fail,u=t.resolve,s=t.reject,c=t.domain;try{a?(o||(2==e._h&&N(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?s(x("Promise-chain cycle")):(i=T(n))?i.call(n,u,s):u(n)):s(r)}catch(e){s(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){m.call(s,function(){var t,n,r,o=e._v,i=C(e);if(i&&(t=w(function(){E?S.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=E||C(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},C=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!C(t.promise))return!1;return!0},N=function(e){m.call(s,function(){var t;E?S.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=T(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(U,r,1),c(M,r,1))}catch(e){M.call(r,e)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){M.call({_w:n,_d:!1},e)}}};P||(k=function(e){h(this,k,"Promise","_h"),d(e),r.call(this);try{e(c(U,this,1),c(M,this,1))}catch(e){M.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(140)(k.prototype,{then:function(e,t){var n=A(v(this,k));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(U,e,1),this.reject=c(M,e,1)},b.f=A=function(e){return j(k,e)?new i(e):o(e)}),l(l.G+l.W+l.F*!P,{Promise:k}),n(40)(k,"Promise"),n(141)("Promise"),a=n(0).Promise,l(l.S+l.F*!P,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!P),"Promise",{resolve:function(e){return e instanceof k&&j(e.constructor,this)?e:_(this,e)}}),l(l.S+l.F*!(P&&n(85)(function(e){k.all(e).catch(O)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=w(function(){var n=[],i=0,a=1;y(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=w(function(){y(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(20),o=n(79),i=n(80),a=n(8),u=n(50),s=n(58),c={},f={},t=e.exports=function(e,t,n,l,p){var d,h,y,v,m=p?function(){return e}:s(e),g=r(n,l,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(d=u(e.length);d>b;b++)if((v=t?g(a(h=e[b])[0],h[1]):g(e[b]))===c||v===f)return v}else for(y=m.call(e);!(h=y.next()).done;)if((v=o(y,g,h.value,t))===c||v===f)return v};t.BREAK=c,t.RETURN=f},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(2),o=n(82).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(27)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(i){var f=!0,l=document.createTextNode("");new i(c).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}else if(u&&u.resolve){var p=u.resolve();n=function(){p.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(13);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(7),a=n(9),u=n(1)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[u]&&i.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(4),o=n(0),i=n(2),a=n(81),u=n(84);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(4),o=n(59),i=n(83);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports=n(145)()},function(e,t,n){"use strict";var r=n(146),o=n(147),i=n(148);e.exports=function(){function e(e,t,n,r,a,u){u!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,u,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,i,a,u,s],l=0;c=new Error(t.replace(/%s/g,function(){return f[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(){}function o(e,t){var n,o,i,a,u=M;for(a=arguments.length;a-- >2;)N.push(arguments[a]);for(t&&null!=t.children&&(N.length||N.push(t.children),delete t.children);N.length;)if((o=N.pop())&&void 0!==o.pop)for(a=o.length;a--;)N.push(o[a]);else"boolean"==typeof o&&(o=null),(i="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o=String(o):"string"!=typeof o&&(i=!1)),i&&n?u[u.length-1]+=o:u===M?u=[o]:u.push(o),n=i;var s=new r;return s.nodeName=e,s.children=u,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==C.vnode&&C.vnode(s),s}function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){return o(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function u(e){!e._dirty&&(e._dirty=!0)&&1==D.push(e)&&(C.debounceRendering||U)(s)}function s(){var e,t=D;for(D=[];e=t.pop();)e._dirty&&P(e)}function c(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&f(e,t.nodeName):n||e._componentConstructor===t.nodeName}function f(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function l(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function p(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function d(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===L.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,v,a):e.removeEventListener(t,v,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)y(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var u=o&&t!==(t=t.replace(/^xlink\:?/,""));null==r||!1===r?u?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(u?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function y(e,t,n){try{e[t]=n}catch(e){}}function v(e){return this._listeners[e.type](C.event&&C.event(e)||e)}function m(){for(var e;e=B.pop();)C.afterMount&&C.afterMount(e),e.componentDidMount&&e.componentDidMount()}function g(e,t,n,r,o,i){z++||(J=null!=o&&void 0!==o.ownerSVGElement,F=null!=e&&!("__preactattr_"in e));var a=b(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--z||(F=!1,i||m()),a}function b(e,t,n,r,o){var i=e,a=J;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),_(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if("function"==typeof u)return j(e,t,n,r);if(J="svg"===u||"foreignObject"!==u&&J,u=String(u),(!e||!f(e,u))&&(i=p(u,J),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),_(e,!0)}var s=i.firstChild,c=i.__preactattr_,l=t.children;if(null==c){c=i.__preactattr_={};for(var d=i.attributes,h=d.length;h--;)c[d[h].name]=d[h].value}return!F&&l&&1===l.length&&"string"==typeof l[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=l[0]&&(s.nodeValue=l[0]):(l&&l.length||null!=s)&&w(i,l,n,r,F||null!=c.dangerouslySetInnerHTML),S(i,t.attributes,c),J=a,i}function w(e,t,n,r,o){var i,a,u,s,f,l=e.childNodes,p=[],h={},y=0,v=0,m=l.length,g=0,w=t?t.length:0;if(0!==m)for(var x=0;x<m;x++){var S=l[x],k=S.__preactattr_,E=w&&k?S._component?S._component.__key:k.key:null;null!=E?(y++,h[E]=S):(k||(void 0!==S.splitText?!o||S.nodeValue.trim():o))&&(p[g++]=S)}if(0!==w)for(var x=0;x<w;x++){s=t[x],f=null;var E=s.key;if(null!=E)y&&void 0!==h[E]&&(f=h[E],h[E]=void 0,y--);else if(!f&&v<g)for(i=v;i<g;i++)if(void 0!==p[i]&&c(a=p[i],s,o)){f=a,p[i]=void 0,i===g-1&&g--,i===v&&v++;break}f=b(f,s,n,r),u=l[x],f&&f!==e&&f!==u&&(null==u?e.appendChild(f):f===u.nextSibling?d(u):e.insertBefore(f,u))}if(y)for(var x in h)void 0!==h[x]&&_(h[x],!1);for(;v<=g;)void 0!==(f=p[g--])&&_(f,!1)}function _(e,t){var n=e._component;n?T(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||d(e),x(e))}function x(e){for(e=e.lastChild;e;){var t=e.previousSibling;_(e,!0),e=t}}function S(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||h(e,r,n[r],n[r]=void 0,J);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||h(e,r,n[r],n[r]=t[r],J)}function k(e){var t=e.constructor.name;(H[t]||(H[t]=[])).push(e)}function E(e,t,n){var r,o=H[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),I.call(r,t,n)):(r=new I(t,n),r.constructor=e,r.render=O),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function O(e,t,n){return this.constructor(e,n)}function A(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===C.syncComponentUpdates&&e.base?u(e):P(e,1,o)),e.__ref&&e.__ref(e))}function P(e,t,n,r){if(!e._disable){var o,a,u,s=e.props,c=e.state,f=e.context,p=e.prevProps||s,d=e.prevState||c,h=e.prevContext||f,y=e.base,v=e.nextBase,b=y||v,w=e._component,x=!1;if(y&&(e.props=p,e.state=d,e.context=h,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,c,f)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,f),e.props=s,e.state=c,e.context=f),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!x){o=e.render(s,c,f),e.getChildContext&&(f=i(i({},f),e.getChildContext()));var S,k,O=o&&o.nodeName;if("function"==typeof O){var j=l(o);a=w,a&&a.constructor===O&&j.key==a.__key?A(a,j,1,f,!1):(S=a,e._component=a=E(O,j,f),a.nextBase=a.nextBase||v,a._parentComponent=e,A(a,j,0,f,!1),P(a,1,n,!0)),k=a.base}else u=b,S=w,S&&(u=e._component=null),(b||1===t)&&(u&&(u._component=null),k=g(u,o,f,n||!y,b&&b.parentNode,!0));if(b&&k!==b&&a!==w){var I=b.parentNode;I&&k!==I&&(I.replaceChild(k,b),S||(b._component=null,_(b,!1)))}if(S&&T(S),e.base=k,k&&!r){for(var R=e,N=e;N=N._parentComponent;)(R=N).base=k;k._component=R,k._componentConstructor=R.constructor}}if(!y||n?B.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(p,d,h),C.afterUpdate&&C.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);z||r||m()}}function j(e,t,n,r){for(var o=e&&e._component,i=o,a=e,u=o&&e._componentConstructor===t.nodeName,s=u,c=l(t);o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return o&&s&&(!r||o._component)?(A(o,c,3,n,r),e=o.base):(i&&!u&&(T(i),e=a=null),o=E(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,a=null),A(o,c,1,n,r),e=o.base,a&&e!==a&&(a._component=null,_(a,!1))),e}function T(e){C.beforeUnmount&&C.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?T(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,d(t),k(e),x(t)),e.__ref&&e.__ref(null)}function I(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function R(e,t,n){return g(n,e,{},!1,t,!1)}n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return I}),n.d(t,"e",function(){return R}),n.d(t,"d",function(){return C});var C={},N=[],M=[],U="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,L=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,D=[],B=[],z=0,J=!1,F=!1,H={};i(I.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=i({},n)),i(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),u(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),P(this,2)},render:function(){}})},function(e,t,n){e.exports={default:n(151),__esModule:!0}},function(e,t,n){n(29),n(41),e.exports=n(60).f("iterator")},function(e,t,n){e.exports={default:n(153),__esModule:!0}},function(e,t,n){n(154),n(74),n(160),n(161),e.exports=n(0).Symbol},function(e,t,n){"use strict";var r=n(2),o=n(14),i=n(9),a=n(4),u=n(76),s=n(155).KEY,c=n(22),f=n(53),l=n(40),p=n(37),d=n(1),h=n(60),y=n(61),v=n(156),m=n(157),g=n(158),b=n(8),w=n(15),_=n(48),x=n(26),S=n(56),k=n(159),E=n(88),O=n(7),A=n(23),P=E.f,j=O.f,T=k.f,I=r.Symbol,R=r.JSON,C=R&&R.stringify,N=d("_hidden"),M=d("toPrimitive"),U={}.propertyIsEnumerable,L=f("symbol-registry"),D=f("symbols"),B=f("op-symbols"),z=Object.prototype,J="function"==typeof I,F=r.QObject,H=!F||!F.prototype||!F.prototype.findChild,q=i&&c(function(){return 7!=S(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(z,t);r&&delete z[t],j(e,t,n),r&&e!==z&&j(z,t,r)}:j,W=function(e){var t=D[e]=S(I.prototype);return t._k=e,t},K=J&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},V=function(e,t,n){return e===z&&V(B,t,n),b(e),t=_(t,!0),b(n),o(D,t)?(n.enumerable?(o(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:x(0,!1)})):(o(e,N)||j(e,N,x(1,{})),e[N][t]=!0),q(e,t,n)):j(e,t,n)},Y=function(e,t){b(e);for(var n,r=m(t=w(t)),o=0,i=r.length;i>o;)V(e,n=r[o++],t[n]);return e},G=function(e,t){return void 0===t?S(e):Y(S(e),t)},$=function(e){var t=U.call(this,e=_(e,!0));return!(this===z&&o(D,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(D,e)||o(this,N)&&this[N][e])||t)},X=function(e,t){if(e=w(e),t=_(t,!0),e!==z||!o(D,t)||o(B,t)){var n=P(e,t);return!n||!o(D,t)||o(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=T(w(e)),r=[],i=0;n.length>i;)o(D,t=n[i++])||t==N||t==s||r.push(t);return r},Q=function(e){for(var t,n=e===z,r=T(n?B:w(e)),i=[],a=0;r.length>a;)!o(D,t=r[a++])||n&&!o(z,t)||i.push(D[t]);return i};J||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(B,n),o(this,N)&&o(this[N],e)&&(this[N][e]=!1),q(this,e,x(1,n))};return i&&H&&q(z,e,{configurable:!0,set:t}),W(e)},u(I.prototype,"toString",function(){return this._k}),E.f=X,O.f=V,n(87).f=k.f=Z,n(38).f=$,n(55).f=Q,i&&!n(39)&&u(z,"propertyIsEnumerable",$,!0),h.f=function(e){return W(d(e))}),a(a.G+a.W+a.F*!J,{Symbol:I});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var ne=A(d.store),re=0;ne.length>re;)y(ne[re++]);a(a.S+a.F*!J,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=I(e)},keyFor:function(e){if(K(e))return v(L,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!J,"Object",{create:G,defineProperty:V,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),R&&a(a.S+a.F*(!J||c(function(){var e=I();return"[null]"!=C([e])||"{}"!=C({a:e})||"{}"!=C(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&g(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,C.apply(R,r)}}}),I.prototype[M]||n(13)(I.prototype,M,I.prototype.valueOf),l(I,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(37)("meta"),o=n(21),i=n(14),a=n(7).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(22)(function(){return s(Object.preventExtensions({}))}),f=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},l=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";f(e)}return e[r].i},p=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;f(e)}return e[r].w},d=function(e){return c&&h.NEED&&s(e)&&!i(e,r)&&f(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(e,t,n){var r=n(23),o=n(15);e.exports=function(e,t){for(var n,i=o(e),a=r(i),u=a.length,s=0;u>s;)if(i[n=a[s++]]===t)return n}},function(e,t,n){var r=n(23),o=n(55),i=n(38);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(27);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(15),o=n(87).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(r(e))}},function(e,t,n){n(61)("asyncIterator")},function(e,t,n){n(61)("observable")},function(e,t,n){n(163);var r=n(0).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(4);r(r.S+r.F*!n(9),"Object",{defineProperty:n(7).f})},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[r+u]=a[u];return t||i(a)}var o=n(165),i=n(166);e.exports=r},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(16))},function(e,t){function n(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);e.exports=n},function(e,t,n){var r=n(0),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(6),u=r(a),s=n(33),c=r(s),f=n(11),l=r(f),p=n(12),d=r(p),h=n(42),y=r(h),v=n(43),m=r(v),g=n(30),b=r(g),w=n(93),_=n(31),x=n(17),S=function(e){function t(e){var n=this;(0,l.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return r.state={loggedIn:!1},r.request=(0,_.client)(window.opener,r.props.appOrigin),r.postSession=(0,u.default)(i.default.mark(function e(){var t,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,x.postMessageStorage)(window.opener,r.props.appOrigin),e.next=3,(0,w.currentSession)(t);case 3:return o=e.sent,e.abrupt("return",r.request({method:"foundSession",args:[o]}));case 5:case"end":return e.stop()}},e,n)})),r.postSession().then(function(){r.setState({loggedIn:!0})}),r}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return this.state.loggedIn?b.default.createElement(E,null):b.default.createElement(k,null)}},{key:"componentDidUpdate",value:function(){var e=this.props.afterLoggedIn;this.state.loggedIn&&e()}}]),t}(g.Component);t.default=S;var k=function(){return b.default.createElement("h1",{class:"center"},"Logging in...")},E=function(){return b.default.createElement("h1",{className:"center"},"Logged in!")}},function(e,t,n){n(170),e.exports=n(0).Object.getPrototypeOf},function(e,t,n){var r=n(28),o=n(78);n(90)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){n(172),e.exports=n(0).Object.setPrototypeOf},function(e,t,n){var r=n(4);r(r.S,"Object",{setPrototypeOf:n(173).set})},function(e,t,n){var r=n(21),o=n(8),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(20)(Function.call,n(88).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){n(175);var r=n(0).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(4);r(r.S,"Object",{create:n(56)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=this;return function(){var n=(0,c.default)(u.default.mark(function n(r,o){var a,s,c,p;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=o||{},t.next=3,(0,l.getSession)(e);case 3:return a=t.sent,t.next=6,i(e)(r);case 6:if(s=t.sent,!a||!s){t.next=9;break}return t.abrupt("return",h(a,r,o));case 9:return t.next=11,fetch(r,o);case 11:if(c=t.sent,401!==c.status){t.next=20;break}return t.next=15,(0,f.updateHostFromResponse)(e)(c);case 15:return t.next=17,i(e)(r);case 17:if(p=t.sent,!a||!p){t.next=20;break}return t.abrupt("return",h(a,r,o));case 20:return t.abrupt("return",c);case 21:case"end":return t.stop()}},n,t)}));return function(e,t){return n.apply(this,arguments)}}()}function i(e){var t=this;return function(){var n=(0,c.default)(u.default.mark(function n(r){var o,i;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.getSession)(e);case 2:if(o=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return t.next=7,(0,f.getHost)(e)(r);case 7:return i=t.sent,t.abrupt("return",null!=i&&o.authType===i.authType);case 9:case"end":return t.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=r(a),s=n(6),c=r(s);t.authnFetch=o,n(64);var f=n(178),l=n(65),p=n(66),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),h=function(){var e=(0,c.default)(u.default.mark(function e(t,n,r){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.authType,e.next="WebID-OIDC"===e.t0?3:(e.t0,4);break;case 3:return e.abrupt("return",d.fetchWithCredentials(t)(n,r));case 4:return e.abrupt("return",fetch(n,r));case 5:case"end":return e.stop()}},e,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}()},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&b(e))this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=p(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function y(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];v.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=d,e.Response=v,e.fetch=function(e,t){return new Promise(function(n,r){var o=new d(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new v(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=this;return function(){var n=(0,y.default)(d.default.mark(function n(r){var o,i,a,u;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=x(r),t.next=3,(0,v.getSession)(e);case 3:if(!(i=t.sent)||x(i.idp)!==o){t.next=6;break}return t.abrupt("return",{url:o,authType:i.authType});case 6:return t.next=8,(0,m.getData)(e);case 8:if(a=t.sent,u=a.hosts){t.next=12;break}return t.abrupt("return",null);case 12:return t.abrupt("return",u[o]||null);case 13:case"end":return t.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}()}function a(e){var t=this;return function(){var n=(0,y.default)(d.default.mark(function n(r){var o=r.url,i=r.authType;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.updateStorage)(e,function(e){return(0,l.default)({},e,{hosts:(0,l.default)({},e.hosts,(0,c.default)({},o,{authType:i}))})});case 2:return t.abrupt("return",{url:o,authType:i});case 3:case"end":return t.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}()}function u(e){var t=this;return function(){var n=(0,y.default)(d.default.mark(function n(r){var o,i;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=void 0,o=b.requiresAuth(r)?"WebID-OIDC":_.requiresAuth(r)?"WebID-TLS":null,i=x(r.url),!o){t.next=6;break}return t.next=6,a(e)({url:i,authType:o});case 6:case"end":return t.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0}),t.hostNameFromRequestInfo=void 0;var s=n(89),c=o(s),f=n(19),l=o(f),p=n(5),d=o(p),h=n(6),y=o(h);t.getHost=i,t.saveHost=a,t.updateHostFromResponse=u;var v=n(65),m=n(17),g=n(66),b=r(g),w=n(117),_=r(w),x=t.hostNameFromRequestInfo=function(e){return(e instanceof URL?e:e instanceof Request?new URL(e.url):new URL(e)).host}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(95),u=function(e){return function(t){return e+"="+(t&&!(0,a.isToken)(t)?(0,a.quote)(t):t)}},s=function(e){return e.reduce(function(e,t){var n=i(t,2),o=n[0],s=n[1],c=u(o);if(!(0,a.isToken)(o))throw new TypeError;return Array.isArray(s)?[].concat(r(e),r(s.map(c))):[].concat(r(e),[c(s)])},[])},c=function e(t,n){if(Array.isArray(t))return s(t);if("object"===(void 0===t?"undefined":o(t)))return e(Object.keys(t).map(function(e){return[e,t[e]]}),n);throw new TypeError};t.default=function(e,t,n){var i="string"==typeof e?{scheme:e,token:t,params:n}:e;if("object"!==(void 0===i?"undefined":o(i)))throw new TypeError;if(!(0,a.isScheme)(i.scheme))throw new TypeError("Invalid scheme.");return[i.scheme].concat(r(void 0!==i.token?[i.token]:[]),r(void 0!==i.params?c(i.params):[])).join(" ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95),o=/((?:[a-zA-Z0-9._~+\/-]+=*(?:\s+|$))|[^\u0000-\u001F\u007F()<>@,;:\\"\/?={}\[\]\u0020\u0009]+)(?:=([^\\"=\s,]+|"(?:[^"\\]|\\.)*"))?/g,i=function(e,t){var n='"'===t.charAt(0)?(0,r.unquote)(t):t.trim();return Array.isArray(e)?e.concat(n):e?[e,n]:n},a=function(e,t){for(var n=null,r=null,a={};null!==(n=o.exec(t));)n[2]?a[n[1]]=i(a[n[1]],n[2]):r=i(r,n[1]);return{scheme:e,params:a,token:r}};t.default=function(e){if("string"!=typeof e)throw new TypeError("Header value must be a string.");var t=e.indexOf(" "),n=e.substr(0,t);if(!(0,r.isScheme)(n))throw new TypeError("Invalid scheme "+n);return a(n,e.substr(t))}},function(e,t,n){"use strict";e.exports=n(96)},function(e,t,n){(function(e,r){function o(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=s(e,o,r)),o}var i=c(e,n);if(i)return i;var a=Object.keys(n),y=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(O(n)){var v=n.name?": "+n.name:"";return e.stylize("[Function"+v+"]","special")}if(x(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var m="",g=!1,w=["{","}"];if(h(n)&&(g=!0,w=["[","]"]),O(n)){m=" [Function"+(n.name?": "+n.name:"")+"]"}if(x(n)&&(m=" "+RegExp.prototype.toString.call(n)),k(n)&&(m=" "+Date.prototype.toUTCString.call(n)),E(n)&&(m=" "+f(n)),0===a.length&&(!g||0==n.length))return w[0]+m+w[1];if(r<0)return x(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var _;return _=g?l(e,n,r,y,a):a.map(function(t){return p(e,n,r,y,t,g)}),e.seen.pop(),d(_,m,w)}function c(e,t){if(_(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)I(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}function p(e,t,n,r,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),I(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=v(n)?s(e,c.value,null):s(e,c.value,n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),_(a)){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function _(e){return void 0===e}function x(e){return S(e)&&"[object RegExp]"===P(e)}function S(e){return"object"==typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===P(e)}function E(e){return S(e)&&("[object Error]"===P(e)||e instanceof Error)}function O(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function P(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<i;u=r[++n])v(u)||!S(u)?a+=" "+u:a+=" "+o(u);return a},t.deprecate=function(n,o){function i(){if(!a){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),a=!0}return n.apply(this,arguments)}if(_(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return i};var C,N={};t.debuglog=function(e){if(_(C)&&(C=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(C)){var n=r.pid;N[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else N[e]=function(){};return N[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=y,t.isNull=v,t.isNullOrUndefined=m,t.isNumber=g,t.isString=b,t.isSymbol=w,t.isUndefined=_,t.isRegExp=x,t.isObject=S,t.isDate=k,t.isError=E,t.isFunction=O,t.isPrimitive=A,t.isBuffer=n(183);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(184),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(16),n(86))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(100),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.initialize(t,n)}return o(e,null,[{key:"schema",get:function(){throw new Error("Schema must be defined by classes extending JSONDocument")}}]),o(e,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.constructor.schema.initialize(this,e,t)}},{key:"validate",value:function(e){var t=this.constructor.schema;return(e||t).validate(this)}},{key:"patch",value:function(e){new i(e).apply(this)}},{key:"select",value:function(){}},{key:"project",value:function(e){return e.project(this)}}],[{key:"serialize",value:function(e){return JSON.stringify(e)}},{key:"deserialize",value:function(e){try{return JSON.parse(e)}catch(e){throw new Error("Failed to parse JSON")}}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(68),a=1,u=function(){function e(t){var n=this;r(this,e),Object.defineProperty(this,"mapping",{enumerable:!1,value:new Map}),Object.keys(t).forEach(function(e){var r=t[e];n.mapping.set(new i(e,a),new i(r,a))})}return o(e,[{key:"map",value:function(e,t){this.mapping.forEach(function(n,r){r.add(e,n.get(t))})}},{key:"project",value:function(e,t){this.mapping.forEach(function(n,r){n.add(t,r.get(e))})}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(99),s=n(101),c=function(){function e(t){o(this,e),Object.assign(this,t),Object.defineProperties(this,{initialize:{enumerable:!1,writeable:!1,value:u.compile(t)},validate:{enumerable:!1,writeable:!1,value:s.compile(t)}})}return a(e,[{key:"extend",value:function(t){function n(e){return e&&"object"===(void 0===e?"undefined":i(e))&&null!==e&&!Array.isArray(e)}function o(e,t){var i=Object.assign({},e);return n(e)&&n(t)&&Object.keys(t).forEach(function(a){n(t[a])&&a in e?i[a]=o(e[a],t[a]):Object.assign(i,r({},a,t[a]))}),i}return new e(o(this,t))}}]),e}();e.exports=c},function(e,t,n){"use strict";(function(e){function r(t,n){return void 0===n&&(n="utf8"),a(e.isBuffer(t)?t.toString("base64"):new e(t,n).toString("base64"))}function o(t,n){return void 0===n&&(n="utf8"),new e(i(t),"base64").toString(n)}function i(e){return e=e.toString(),s.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(t){return new e(i(t),"base64")}var s=n(192),c=r;c.encode=r,c.decode=o,c.toBase64=i,c.fromBase64=a,c.toBuffer=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c}).call(t,n(25).Buffer)},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function o(e){return 3*e.length/4-r(e)}function i(e){var t,n,o,i,a,u=e.length;i=r(e),a=new l(3*u/4-i),n=i>0?u-4:u;var s=0;for(t=0;t<n;t+=4)o=f[e.charCodeAt(t)]<<18|f[e.charCodeAt(t+1)]<<12|f[e.charCodeAt(t+2)]<<6|f[e.charCodeAt(t+3)],a[s++]=o>>16&255,a[s++]=o>>8&255,a[s++]=255&o;return 2===i?(o=f[e.charCodeAt(t)]<<2|f[e.charCodeAt(t+1)]>>4,a[s++]=255&o):1===i&&(o=f[e.charCodeAt(t)]<<10|f[e.charCodeAt(t+1)]<<4|f[e.charCodeAt(t+2)]>>2,a[s++]=o>>8&255,a[s++]=255&o),a}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(a(r));return o.join("")}function s(e){for(var t,n=e.length,r=n%3,o="",i=[],a=0,s=n-r;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));return 1===r?(t=e[n-1],o+=c[t>>2],o+=c[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=c[t>>10],o+=c[t>>4&63],o+=c[t<<2&63],o+="="),i.push(o),i.join("")}t.byteLength=o,t.toByteArray=i,t.fromByteArray=s;for(var c=[],f=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=p.length;d<h;++d)c[d]=p[d],f[p.charCodeAt(d)]=d;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,f=-7,l=n?o-1:0,p=n?-1:1,d=e[t+l];for(l+=p,i=d&(1<<-f)-1,d>>=-f,f+=u;f>0;i=256*i+e[t+l],l+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=c}return(d?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,u,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+l>=1?p/s:p*Math.pow(2,1-l),t*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(t*s-1)*Math.pow(2,o),a+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&u,d+=h,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(e){function n(t){var n=t.length,r=n%4;if(!r)return t;var o=n,i=4-r,a=n+i,u=new e(a);for(u.write(t);i--;)u.write("=",o++);return u.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}).call(t,n(25).Buffer)},function(e,t,n){"use strict";var r=n(194),o=n(195),i=n(197),a=n(198),u=new a;u.define("HS256","sign",new o({name:"HMAC",hash:{name:"SHA-256"}})),u.define("HS384","sign",new o({name:"HMAC",hash:{name:"SHA-384"}})),u.define("HS512","sign",new o({name:"HMAC",hash:{name:"SHA-512"}})),u.define("RS256","sign",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),u.define("RS384","sign",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),u.define("RS512","sign",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),u.define("none","sign",new r({})),u.define("HS256","verify",new o({name:"HMAC",hash:{name:"SHA-256"}})),u.define("HS384","verify",new o({name:"HMAC",hash:{name:"SHA-384"}})),u.define("HS512","verify",new o({name:"HMAC",hash:{name:"SHA-512"}})),u.define("RS256","verify",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),u.define("RS384","verify",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),u.define("RS512","verify",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),u.define("none","verify",new r({})),u.define("RS256","importKey",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),u.define("RS384","importKey",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),u.define("RS512","importKey",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,[{key:"sign",value:function(){return Promise.resolve("")}},{key:"verify",value:function(){}}]),e}();e.exports=i},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(18),a=n(45),u=n(102),s=function(){function e(t){r(this,e),this.params=t}return o(e,[{key:"sign",value:function(e,n){var r=this.params;return n=(new u).encode(n),a.subtle.sign(r,e,n).then(function(e){return i(t.from(e))})}},{key:"verify",value:function(e,t,n){var r=this.params;return"string"==typeof t&&(t=Uint8Array.from(i.toBuffer(t))),"string"==typeof n&&(n=(new u).encode(n)),a.subtle.verify(r,e,t,n)}},{key:"assertSufficientKeyLength",value:function(e){if(e.length<this.bitlength)throw new Error("The key is too short.")}}]),e}();e.exports=s}).call(t,n(25).Buffer)},function(e,t){e.exports=TextEncoder},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(18),a=n(45),u=n(102),s=function(){function e(t){r(this,e),this.params=t}return o(e,[{key:"sign",value:function(e,n){var r=this.params;return n=(new u).encode(n),a.subtle.sign(r,e,n).then(function(e){return i(t.from(e))})}},{key:"verify",value:function(e,t,n){var r=this.params;return"string"==typeof t&&(t=Uint8Array.from(i.toBuffer(t))),"string"==typeof n&&(n=(new u).encode(n)),a.subtle.verify(r,e,t,n)}},{key:"importKey",value:function(e){var t=Object.assign({},e),n=this.params,r=e.key_ops||[];return"sig"===e.use&&r.push("verify"),"enc"===e.use?Promise.resolve(e):(e.key_ops&&(r=e.key_ops),a.subtle.importKey("jwk",t,n,!0,r).then(function(e){return Object.defineProperty(t,"cryptoKey",{enumerable:!1,value:e}),t}))}}]),e}();e.exports=s}).call(t,n(25).Buffer)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(103),a=["sign","verify","encrypt","decrypt","importKey"],u=function(){function e(){var t=this;r(this,e),a.forEach(function(e){t[e]={}})}return o(e,[{key:"define",value:function(e,t,n){this[t][e]=n}},{key:"normalize",value:function(e,t){var n=this[e];if(!n)return new SyntaxError;var r=n[t];return r||new i(t)}}],[{key:"operations",get:function(){return a}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(3),o=r.Formats;o.register("StringOrURI",new RegExp),o.register("NumericDate",new RegExp),o.register("URI",new RegExp),o.register("url",new RegExp),o.register("base64",new RegExp),o.register("base64url",new RegExp),o.register("MediaType",new RegExp)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),s=u.JSONDocument,c=n(107),f=n(106),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,null,[{key:"importKeys",value:function(e){var n=this.schema.validate(e);if(!n.valid)return Promise.reject(new Error("Invalid JWKSet: "+JSON.stringify(n,null,2)));if(!e.keys)return Promise.reject(new Error("Cannot import JWKSet: keys property is empty"));var r=void 0,o=void 0;try{r=new t(e),o=e.keys.map(function(e){return f.importKey(e)})}catch(e){return Promise.reject(e)}return Promise.all(o).then(function(e){return r.keys=e,r})}},{key:"schema",get:function(){return c}}]),t}(s);e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(18),c=n(3),f=c.JSONDocument,l=n(108),p=n(112),d=n(105),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"isJWE",value:function(){return!!this.header.enc}},{key:"resolveKeys",value:function(e){var t=this.header.kid,n=void 0,r=void 0;if(Array.isArray(e)&&(n=e),e.keys&&(n=e.keys),e.keys||"object"!==(void 0===e?"undefined":a(e))||(n=[e]),!n)throw new d("Invalid JWK argument");return!!(r=t?n.find(function(e){return e.kid===t}):n.find(function(e){return"sig"===e.use}))&&(this.key=r.cryptoKey,!0)}},{key:"encode",value:function(){var e=this.validate();if(!e.valid)return Promise.reject(e);var t=this;return this.isJWE()?JWE.encrypt(t):p.sign(t)}},{key:"verify",value:function(){var e=this.validate();return e.valid?p.verify(this):Promise.reject(e)}}],[{key:"decode",value:function(e){var t=this,n=void 0;if("string"!=typeof e)throw new d("JWT must be a string");if(e.startsWith("{")){try{e=JSON.parse(e,function(){})}catch(e){throw new d("Invalid JWT serialization")}e.signatures||e.recipients?e.serialization="json":e.serialization="flattened",n=new t(e,{filter:!1})}else try{var r=e.split("."),o=r.length;if(3!==o&&5!==o)throw new Error("Malformed JWT");var i=JSON.parse(s.decode(r[0]));if(3===o){n=new t({type:"JWS",segments:r,header:i,payload:JSON.parse(s.decode(r[1])),signature:r[2],serialization:"compact"},{filter:!1})}}catch(e){throw new d("Invalid JWT compact serialization")}return n}},{key:"encode",value:function(e,n,r){return new t(e,n).encode(r)}},{key:"verify",value:function(e,n){var r=t.decode(n);return r.key=e,r.verify().then(function(e){return r})}},{key:"schema",get:function(){return l}}]),t}(f);e.exports=h},function(e,t,n){"use strict";(function(t){function r(e){return e&&e.__esModule?e:{default:e}}var o=n(113),i=r(o),a=n(205),u=r(a),s=n(63),c=r(s),f=n(114),l=r(f),p=n(35),d=r(p),h=n(10),y=r(h),v=n(11),m=r(v),g=n(12),b=r(g),w=n(67),_=n(18),x=n(45),S=n(34),k=S.JWT,E=n(115),O=n(44),A=O.URL,P=function(){function e(){(0,m.default)(this,e)}return(0,b.default)(e,null,[{key:"create",value:function(n,r,o){var i=n.provider,a=n.defaults,u=n.registration,s=void 0,f=void 0,p=void 0,h=void 0;return y.default.resolve().then(function(){return w(i.configuration,"RelyingParty provider OpenID Configuration is missing"),w(a.authenticate,"RelyingParty default authentication parameters are missing"),w(u,"RelyingParty client registration is missing"),s=i.configuration.issuer,f=i.configuration.authorization_endpoint,p={client_id:u.client_id},h=(0,d.default)(a.authenticate,p,r),w(s,"Missing issuer in provider OpenID Configuration"),w(f,"Missing authorization_endpoint in provider OpenID Configuration"),w(h.scope,"Missing scope parameter in authentication request"),w(h.response_type,"Missing response_type parameter in authentication request"),w(h.client_id,"Missing client_id parameter in authentication request"),w(h.redirect_uri,"Missing redirect_uri parameter in authentication request"),h.state=(0,l.default)(x.getRandomValues(new Uint8Array(16))),h.nonce=(0,l.default)(x.getRandomValues(new Uint8Array(16))),y.default.all([x.subtle.digest({name:"SHA-256"},new Uint8Array(h.state)),x.subtle.digest({name:"SHA-256"},new Uint8Array(h.nonce))])}).then(function(e){var n=_(t.from(e[0])),r=_(t.from(e[1]));o[s+"/requestHistory/"+n]=(0,c.default)(h),h.state=n,h.nonce=r}).then(function(){return e.generateSessionKeys()}).then(function(t){e.storeSessionKeys(t,h,o)}).then(function(){if(i.configuration.request_parameter_supported)return e.encodeRequestParams(h).then(function(e){h=e})}).then(function(){var e=new A(f);return e.search=E.encode(h),e.href})}},{key:"generateSessionKeys",value:function(){return x.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return y.default.all([x.subtle.exportKey("jwk",e.publicKey),x.subtle.exportKey("jwk",e.privateKey)])}).then(function(e){var t=(0,u.default)(e,2);return{public:t[0],private:t[1]}})}},{key:"storeSessionKeys",value:function(e,t,n){n["oidc.session.privateKey"]=(0,c.default)(e.private),t.key=e.public}},{key:"encodeRequestParams",value:function(e){var t=["scope","client_id","response_type","state"],n=(0,i.default)(e).filter(function(e){return!t.includes(e)}),r={};return n.forEach(function(t){r[t]=e[t]}),new k({header:{alg:"none"},payload:r},{filter:!1}).encode().then(function(t){return{scope:e.scope,client_id:e.client_id,response_type:e.response_type,request:t,state:e.state}})}}]),e}();e.exports=P}).call(t,n(25).Buffer)},function(e,t,n){n(204),e.exports=n(0).Object.keys},function(e,t,n){var r=n(28),o=n(23);n(90)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(206),i=r(o),a=n(209),u=r(a);t.default=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=(0,u.default)(e);!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(207),__esModule:!0}},function(e,t,n){n(41),n(29),e.exports=n(208)},function(e,t,n){var r=n(57),o=n(1)("iterator"),i=n(24);e.exports=n(0).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(210),__esModule:!0}},function(e,t,n){n(41),n(29),e.exports=n(211)},function(e,t,n){var r=n(8),o=n(58);e.exports=n(0).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(29),n(213),e.exports=n(0).Array.from},function(e,t,n){"use strict";var r=n(20),o=n(4),i=n(28),a=n(79),u=n(80),s=n(50),c=n(214),f=n(58);o(o.S+o.F*!n(85)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,l,p=i(e),d="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,v=void 0!==y,m=0,g=f(p);if(v&&(y=r(y,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&u(g))for(t=s(p.length),n=new d(t);t>m;m++)c(n,m,v?y(p[m],m):p[m]);else for(l=g.call(p),n=new d;!(o=l.next()).done;m++)c(n,m,v?a(l,y,[o.value,m],!0):o.value);return n.length=m,n}})},function(e,t,n){"use strict";var r=n(7),o=n(26);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){"use strict";(function(t,r){function o(e){return e&&e.__esModule?e:{default:e}}var i=n(35),a=o(i),u=n(10),s=o(u),c=n(11),f=o(c),l=n(12),p=o(l),d=n(44),h=d.URL,y=n(67),v=n(45),m=n(18),g=n(97),b=g.Headers?g.Headers:t.Headers,w=n(115),_=n(216),x=n(218),S=n(116),k=function(){function e(){(0,f.default)(this,e)}return(0,p.default)(e,null,[{key:"validateResponse",value:function(e){return s.default.resolve(e).then(this.parseResponse).then(this.matchRequest).then(this.validateStateParam).then(this.errorResponse).then(this.validateResponseMode).then(this.validateResponseParams).then(this.exchangeAuthorizationCode).then(this.validateIDToken).then(x.fromAuthResponse)}},{key:"parseResponse",value:function(e){var t=e.redirect,n=e.body;if(t&&n||!t&&!n)throw new Error("Invalid response mode");if(t){var r=new h(t),o=r.search,i=r.hash;if(o&&i||!o&&!i)throw new Error("Invalid response mode");o&&(e.params=w.decode(o.substring(1)),e.mode="query"),i&&(e.params=w.decode(i.substring(1)),e.mode="fragment")}return n&&(e.params=w.decode(n),e.mode="form_post"),e}},{key:"matchRequest",value:function(e){var t=e.rp,n=e.params,r=e.session,o=n.state,i=t.provider.configuration.issuer;if(!o)throw new Error("Missing state parameter in authentication response");var a=i+"/requestHistory/"+o,u=r[a];if(!u)throw new Error("Mismatching state parameter in authentication response");return e.request=JSON.parse(u),e}},{key:"validateStateParam",value:function(e){var t=new Uint8Array(e.request.state),n=e.params.state;return v.subtle.digest({name:"SHA-256"},t).then(function(t){if(n!==m(r.from(t)))throw new Error("Mismatching state parameter in authentication response");return e})}},{key:"errorResponse",value:function(e){var t=e.params.error;return t?s.default.reject(t):s.default.resolve(e)}},{key:"validateResponseMode",value:function(e){if("code"!==e.request.response_type&&"query"===e.mode)throw new Error("Invalid response mode");return e}},{key:"validateResponseParams",value:function(e){var t=e.request,n=e.params,r=t.response_type.split(" ");return r.includes("code")&&y(n.code,"Missing authorization code in authentication response"),r.includes("id_token")&&y(n.id_token,"Missing id_token in authentication response"),r.includes("token")&&(y(n.access_token,"Missing access_token in authentication response"),y(n.token_type,"Missing token_type in authentication response")),e}},{key:"exchangeAuthorizationCode",value:function(e){var t=e.rp,n=e.params,o=e.request,i=n.code;if(!i||"code"!==o.response_type)return s.default.resolve(e);var u=t.provider,c=t.registration,f=c.client_id,l=c.client_secret;if(!l)return s.default.reject(new Error("Client cannot exchange authorization code because it is not a confidential client"));var p=u.configuration.token_endpoint,d=new b({"Content-Type":"application/x-www-form-urlencoded"}),h={grant_type:"authorization_code",code:i,redirect_uri:o.redirect_uri},v=c.token_endpoint_auth_method||"client_secret_basic";if("client_secret_basic"===v){var m=new r(f+":"+l).toString("base64");d.set("Authorization","Basic "+m)}"client_secret_post"===v&&(h.client_id=f,h.client_secret=l);var _=w.encode(h);return g(p,{method:"POST",headers:d,body:_}).then(S("Error exchanging authorization code")).then(function(e){return e.json()}).then(function(t){return y(t.access_token,"Missing access_token in token response"),y(t.token_type,"Missing token_type in token response"),y(t.id_token,"Missing id_token in token response"),e.params=(0,a.default)(e.params,t),e})}},{key:"validateIDToken",value:function(t){return t.params.id_token?s.default.resolve(t).then(e.decryptIDToken).then(e.decodeIDToken).then(e.validateIssuer).then(e.validateAudience).then(e.resolveKeys).then(e.verifySignature).then(e.validateExpires).then(e.verifyNonce).then(e.validateAcr).then(e.validateAuthTime).then(e.validateAccessTokenHash).then(e.validateAuthorizationCodeHash):s.default.resolve(t)}},{key:"decryptIDToken",value:function(e){return s.default.resolve(e)}},{key:"decodeIDToken",value:function(e){var t=e.params.id_token;return t&&(e.decoded=_.decode(t)),e}},{key:"validateIssuer",value:function(e){var t=e.rp.provider.configuration;if(e.decoded.payload.iss!==t.issuer)throw new Error("Mismatching issuer in ID Token");return e}},{key:"validateAudience",value:function(e){var t=e.rp.registration,n=e.decoded.payload,r=n.aud,o=n.azp;if("string"==typeof r&&r!==t.client_id)throw new Error("Mismatching audience in id_token");if(Array.isArray(r)&&!r.includes(t.client_id))throw new Error("Mismatching audience in id_token");if(Array.isArray(r)&&!o)throw new Error("Missing azp claim in id_token");if(o&&o!==t.client_id)throw new Error("Mismatching azp claim in id_token");return e}},{key:"resolveKeys",value:function(e){var t=e.rp,n=t.provider,r=e.decoded;return s.default.resolve(n.jwks).then(function(e){return e||t.jwks()}).then(function(t){if(r.resolveKeys(t))return s.default.resolve(e);throw new Error("Cannot resolve signing key for ID Token")})}},{key:"verifySignature",value:function(e){var t=e.decoded.header.alg,n=e.rp.registration,r=n.id_token_signed_response_alg||"RS256";if(t!==r)throw new Error("Expected ID Token to be signed with "+r);return e.decoded.verify().then(function(t){if(!t)throw new Error("Invalid ID Token signature");return e})}},{key:"validateExpires",value:function(e){if(e.decoded.payload.exp<=Math.floor(Date.now()/1e3))throw new Error("Expired ID Token");return e}},{key:"verifyNonce",value:function(e){var t=new Uint8Array(e.request.nonce),n=e.decoded.payload.nonce;if(!n)throw new Error("Missing nonce in ID Token");return v.subtle.digest({name:"SHA-256"},t).then(function(t){if(n!==m(r.from(t)))throw new Error("Mismatching nonce in ID Token");return e})}},{key:"validateAcr",value:function(e){return e}},{key:"validateAuthTime",value:function(e){return e}},{key:"validateAccessTokenHash",value:function(e){return e}},{key:"validateAuthorizationCodeHash",value:function(e){return e}}]),e}();e.exports=k}).call(t,n(16),n(25).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(33),i=r(o),a=n(11),u=r(a),s=n(12),c=r(s),f=n(42),l=r(f),p=n(43),d=r(p),h=n(34),y=h.JWT,v=n(217),m=function(e){function t(){return(0,u.default)(this,t),(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"schema",get:function(){return v}}]),t}(y);e.exports=m},function(e,t,n){"use strict";var r=n(34),o=r.JWTSchema,i=o.extend({properties:{header:{},payload:{properties:{iss:{type:"string",format:"url"},sub:{type:"string",maxLength:255},auth_time:{type:"integer",format:"NumericDate"},nonce:{type:"string"},acr:{type:"string"},amr:{type:"array",items:{type:"string"}},azp:{type:"string",format:"StringOrURI"}},required:["iss","sub","aud","exp","iat"]}}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(11),i=r(o),a=n(12),u=r(a),s=function(){function e(t){(0,i.default)(this,e),this.idp=t.idp,this.clientId=t.clientId,this.sessionKey=t.sessionKey,this.decoded=t.decoded,this.accessToken=t.accessToken,this.idToken=t.idToken}return(0,u.default)(e,null,[{key:"fromAuthResponse",value:function(t){var r=n(96),o=t.decoded.payload,i=t.rp.registration;return new e({sessionKey:t.session[r.SESSION_PRIVATE_KEY],idp:o.iss,clientId:i.client_id,decoded:t.decoded,accessToken:t.params.access_token,idToken:t.params.id_token})}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=n(3),o=r.JSONSchema,i=new o({type:"object",properties:{provider:{type:"object",properties:{name:{type:"string"},url:{type:"string",format:"uri"},configuration:{},jwks:{}},required:["url"]},defaults:{type:"object",properties:{authenticate:{type:"object",properties:{redirect_uri:{type:"string",format:"uri"},response_type:{type:"string",default:"id_token token",enum:["code","token","id_token token","id_token token code"]},display:{type:"string",default:"page",enum:["page","popup"]},scope:{type:["string","array"],default:["openid"]}}},register:{}}},registration:{},store:{type:"object",default:{}}}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,h.default)(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,h.default)(t)));e.prototype=(0,p.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(f.default?(0,f.default)(e,t):e.__proto__=t)}var u=n(33),s=r(u),c=n(91),f=r(c),l=n(92),p=r(l),d=n(32),h=r(d),y=n(62),v=r(y),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,v.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(44),b=g.URL,w=n(34),_=w.JWT,x=w.JWK,S=function(e){function t(){return o(this,t),i(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return a(t,e),m(t,null,[{key:"issueFor",value:function(e,n){if(!e)throw new Error("Cannot issue PoPToken - missing resource server URI");if(!n.sessionKey)throw new Error("Cannot issue PoPToken - missing session key");if(!n.idToken)throw new Error("Cannot issue PoPToken - missing id token");var r=JSON.parse(n.sessionKey);return x.importKey(r).then(function(r){var o={aud:new b(e).origin,key:r,iss:n.clientId,id_token:n.idToken};return t.issue(o)}).then(function(e){return e.encode()})}},{key:"issue",value:function(e){var n=e.aud,r=e.iss,o=e.key,i=o.alg,a=e.iat||Math.floor(Date.now()/1e3);return new t({header:{alg:i},payload:{iss:r,aud:n,exp:a+(e.max||3600),iat:a,id_token:e.id_token,token_type:"pop"},key:o.cryptoKey},{filter:!1})}}]),t}(_);e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.openIdpSelector=t.startPopupServer=t.appOriginHandler=t.loginHandler=t.storageHandler=void 0;var o=n(10),i=r(o),a=n(222),u=r(a),s=n(31),c=n(70),f=function(e,t,n){return(0,s.combineHandlers)(l(e),p(t,n),d)},l=t.storageHandler=function(e){return function(t){var n=t.id,r=t.method,o=t.args;switch(r){case"storage/getItem":return e.getItem.apply(e,(0,u.default)(o)).then(function(e){return{id:n,ret:e}});case"storage/setItem":return e.setItem.apply(e,(0,u.default)(o)).then(function(){return{id:n,ret:null}});case"storage/removeItem":return e.removeItem.apply(e,(0,u.default)(o)).then(function(){return{id:n,ret:null}});default:return null}}},p=t.loginHandler=function(e,t){return function(n){var r=n.id,o=n.method,a=n.args;switch(o){case"getLoginOptions":return i.default.resolve({id:r,ret:{popupUri:e.popupUri,callbackUri:e.callbackUri}});case"foundSession":return t(a[0]),i.default.resolve({id:r,ret:null});default:return null}}},d=t.appOriginHandler=function(e){var t=e.id;return"getAppOrigin"===e.method?i.default.resolve({id:t,ret:window.location.origin}):null};t.startPopupServer=function(e,t,n){return new i.default(function(r,o){if(!n.popupUri||!n.callbackUri)return o(new Error('Cannot serve a popup without both "options.popupUri" and "options.callbackUri"'));var i=(0,s.server)(t,(0,c.originOf)(n.popupUri))(f(e,n,function(e){i.stop(),r(e)}));i.start()})},t.openIdpSelector=function(e){if(!e.popupUri||!e.callbackUri)throw new Error('Cannot open IDP select UI.  Must provide both "options.popupUri" and "options.callbackUri".');return window.open(e.popupUri,"_blank","width=650,height=400,left="+(window.innerWidth-650)/2+",top="+(window.innerHeight-400)/2)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(114),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(32),u=r(a),s=n(19),c=r(s),f=n(6),l=r(f),p=n(33),d=r(p),h=n(11),y=r(h),v=n(12),m=r(v),g=n(42),b=r(g),w=n(43),_=r(w),x=n(10),S=r(x),k=n(30),E=r(k),O=n(93),A=n(31),P=n(17);n(224);var j=function(e,t){return S.default.race([e,new S.default(function(e,n){return setTimeout(function(){return e(null)},t)})])},T=function(e){function t(){var e,n,r,o,a=this;(0,y.default)(this,t);for(var s=arguments.length,f=Array(s),p=0;p<s;p++)f[p]=arguments[p];return n=r=(0,b.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(f))),r.state={enteringCustomIdp:!1,customIdp:{url:""},error:null},r.toggleEnteringCustomIdp=function(){return r.setState(function(e){return{enteringCustomIdp:!e.enteringCustomIdp,customIdp:{url:""}}})},r.handleChangeIdp=function(e){r.setState({customIdp:{url:e.target.value}})},r.handleSelectIdp=function(e){return function(){var t=(0,l.default)(i.default.mark(function t(n){var o,s,f,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.props.appOrigin,n.preventDefault(),window.opener){t.next=6;break}return console.warn("No parent window"),r.setState({error:"Couldn't find the application window.  Try closing this popup window and logging in again."}),t.abrupt("return");case 6:return s=(0,A.client)(window.opener,o),t.next=9,j(s({method:"getLoginOptions",args:[]}),2e3);case 9:if(f=t.sent){t.next=14;break}return console.warn("Cannot log in - have not yet received loginOptions from parent window"),r.setState({error:"Couldn't find the application window.  Try closing this popup window and logging in again."}),t.abrupt("return");case 14:return f=(0,c.default)({},f,{storage:(0,P.postMessageStorage)(window.opener,o)}),t.next=17,(0,O.login)(e.url,f);case 17:if(l=t.sent,"object"!==(void 0===l?"undefined":(0,u.default)(l))){t.next=24;break}return t.next=21,s({method:"foundSession",args:[l]});case 21:window.close(),t.next=25;break;case 24:"function"==typeof l&&l();case 25:case"end":return t.stop()}},t,a)}));return function(e){return t.apply(this,arguments)}}()},o=n,(0,b.default)(r,o)}return(0,_.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.appName,r=t.idps,o=this.state,i=o.customIdp,a=o.enteringCustomIdp,u=o.error;return E.default.createElement("div",null,E.default.createElement("h1",{className:"center"},"Log in to ",E.default.createElement("span",{className:"app-name"},n)),u&&E.default.createElement(R,{error:u}),E.default.createElement("p",{className:"copy-gentle center"},"Choose where you log in"),a?E.default.createElement("form",{className:"form-inline",onSubmit:this.handleSelectIdp(i)},E.default.createElement("input",{className:"form-inline__input-text",type:"url",placeholder:"https://my-identity.databox.me/profile/card#me",value:i.url,onChange:this.handleChangeIdp}),E.default.createElement("div",{className:"form-inline__controls"},E.default.createElement("button",{className:"btn",type:"submit"},"Log In"),E.default.createElement("button",{className:"btn",type:"reset",onClick:this.toggleEnteringCustomIdp},"Cancel"))):E.default.createElement("button",{className:"btn btn-link",onClick:this.toggleEnteringCustomIdp},"Choose a custom Solid account"),E.default.createElement("div",{className:"idp-list"},r.map(function(t){return E.default.createElement(I,{idp:t,handleSelectIdp:e.handleSelectIdp,key:t.url})})))}}]),t}(E.default.Component),I=function(e){var t=e.idp,n=e.handleSelectIdp;return E.default.createElement("div",{className:"idp"},E.default.createElement("button",{className:"idp__select",onClick:n(t)},E.default.createElement("span",{className:"idp__copy"},"Log in with ",t.displayName),E.default.createElement("span",{className:"idp__icon-container"},E.default.createElement("img",{className:"idp__icon",src:t.iconUrl,alt:""}))))},R=function(e){var t=e.error;return E.default.createElement("div",{className:"error center"},t)};t.default=T},function(e,t,n){var r=n(225);"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n(119)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(118)(void 0),t.push([e.i,".idp-list{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.idp{flex:1 100%;margin-bottom:16px;padding:2px}@media (min-width:500px){.idp{flex:1}}.idp .idp__select{display:flex;justify-content:space-between;align-items:center;border:none;border-radius:2px;height:50px;width:100%;padding:4px;background-color:#3d6dd3;transition:background-color .4s,box-shadow .4s}.idp .idp__select:focus,.idp .idp__select:hover{cursor:pointer;background-color:#3761bc;box-shadow:1px 1px #2e5097}.idp .idp__select:active{cursor:pointer;box-shadow:inset 1px 1px #2e5098}.idp .idp__copy{color:#fff;margin-left:4px;font-size:1em}.idp .idp__icon-container{display:flex;height:42px;border-radius:2px;background-color:#fff}.idp .idp__icon{margin:auto}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){var t=e.appName;return o.default.createElement("div",null,o.default.createElement("p",null,"This window was opened to log you in to"," ",o.default.createElement("span",{className:"app-name"},t),", but that app is no longer open."),o.default.createElement("p",null,"If you're trying to log in to ",o.default.createElement("span",{className:"app-name"},t),", close this window, then go back to the app and log in again."),o.default.createElement("p",null,"If you opened this window by accident, close it."))};t.default=i},function(e,t,n){var r=n(229);"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n(119)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(118)(void 0),t.push([e.i,"body{font-family:Roboto,sans-serif}h1{font-weight:400;padding-bottom:10px;border-bottom:1px solid #d8d8d8}#app-container{max-width:600px;margin:auto}.center{text-align:center}.copy-gentle{color:#494949;font-size:.9em;font-weight:lighter}.error{background-color:#ff8e8e;color:#323232;padding:8px;border-radius:2px}.btn{border:1px solid grey;border-radius:2px;padding:4px;margin-left:4px;cursor:pointer}.btn-link{border:none;background-color:#fff;text-decoration:underline;padding:4px}.form-inline{display:flex;flex-wrap:nowrap;justify-content:space-between;margin-bottom:16px}.form-inline .form-inline__input-text{flex-grow:2}.form-inline .form-inline__controls{flex-grow:1;display:flex;justify-content:flex-end}.app-name{text-decoration:underline;font-weight:700}",""])}]);</script></body>
</html>
